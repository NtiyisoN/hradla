!function(t){"use strict";function e(t){t.Reflect=t.Reflect||{},t.Reflect.global=t.Reflect.global||t}if(!t.$traceurRuntime){e(t);t.$traceurRuntime={options:{},setupGlobals:e,typeof:function(t){return typeof t}}}}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this),function(){function t(t,e,r,n,i,u,s){var o=[];return t&&o.push(t,":"),r&&(o.push("//"),e&&o.push(e,"@"),o.push(r),n&&o.push(":",n)),i&&o.push(i),u&&o.push("?",u),s&&o.push("#",s),o.join("")}function e(t){return t.match(i)}function r(t){if("/"===t)return"/";for(var e="/"===t[0]?"/":"",r="/"===t.slice(-1)?"/":"",n=t.split("/"),i=[],u=0,s=0;s<n.length;s++){var o=n[s];switch(o){case"":case".":break;case"..":i.length?i.pop():u++;break;default:i.push(o)}}if(!e){for(;u-- >0;)i.unshift("..");0===i.length&&i.push(".")}return e+i.join("/")+r}function n(e){var n=e[u.PATH]||"";return n=r(n),e[u.PATH]=n,t(e[u.SCHEME],e[u.USER_INFO],e[u.DOMAIN],e[u.PORT],e[u.PATH],e[u.QUERY_DATA],e[u.FRAGMENT])}var i=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),u={SCHEME:1,USER_INFO:2,DOMAIN:3,PORT:4,PATH:5,QUERY_DATA:6,FRAGMENT:7};$traceurRuntime.canonicalizeUrl=function(t){return n(e(t))},$traceurRuntime.isAbsolute=function(t){return!(!t||"/"!==t[0]&&!e(t)[u.SCHEME])},$traceurRuntime.removeDotSegments=r,$traceurRuntime.resolveUrl=function(t,r){var i=e(r),s=e(t);if(i[u.SCHEME])return n(i);i[u.SCHEME]=s[u.SCHEME];for(var o=u.SCHEME;o<=u.PORT;o++)i[o]||(i[o]=s[o]);if("/"==i[u.PATH][0])return n(i);var a=s[u.PATH],c=a.lastIndexOf("/");return a=a.slice(0,c+1)+i[u.PATH],i[u.PATH]=a,n(i)}}(),function(t){"use strict";function e(t,e){this.url=t,this.value_=e}function r(t,e){this.message=this.constructor.name+": "+this.stripCause(e)+" in "+t,e instanceof r||!e.stack?this.stack="":this.stack=this.stripStack(e.stack)}function n(t,e){var r=[],n=e-3;n<0&&(n=0);for(var i=n;i<e;i++)r.push(t[i]);return r}function i(t,e){var r=e+1;r>t.length-1&&(r=t.length-1);for(var n=[],i=e;i<=r;i++)n.push(t[i]);return n}function u(t){for(var e="",r=0;r<t-1;r++)e+="-";return e}function s(t,r){e.call(this,t,null),this.func=r}function o(t){if(t){var e=v.normalize(t);return h[e]}}function a(t){var e=arguments[1],r=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(n){var i,u;if(e===p){var s=Object.getOwnPropertyDescriptor(t,n);s.get&&(i=s.get)}i||(u=t[n],i=function(){return u}),Object.defineProperty(r,n,{get:i,enumerable:!0})}),Object.preventExtensions(r),r}var c,l=$traceurRuntime,f=l.canonicalizeUrl,d=l.resolveUrl,m=l.isAbsolute,h=Object.create(null);c=t.location&&t.location.href?d(t.location.href,"./"):"",r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r.prototype.stripError=function(t){return t.replace(/.*Error:/,this.constructor.name+":")},r.prototype.stripCause=function(t){return t?t.message?this.stripError(t.message):t+"":""},r.prototype.loadedBy=function(t){this.stack+="\n loaded by "+t},r.prototype.stripStack=function(t){var e=[];return t.split("\n").some(function(t){if(/UncoatedModuleInstantiator/.test(t))return!0;e.push(t)}),e[0]=this.stripError(e[0]),e.join("\n")},(s.prototype=Object.create(e.prototype)).getUncoatedModule=function(){var e=this;if(this.value_)return this.value_;try{var s;return void 0!==typeof $traceurRuntime&&$traceurRuntime.require&&(s=$traceurRuntime.require.bind(null,this.url)),this.value_=this.func.call(t,s)}catch(t){if(t instanceof r)throw t.loadedBy(this.url),t;if(t.stack){var o=this.func.toString().split("\n"),a=[];t.stack.split("\n").some(function(t,r){if(t.indexOf("UncoatedModuleInstantiator.getUncoatedModule")>0)return!0;var s=/(at\s[^\s]*\s).*>:(\d*):(\d*)\)/.exec(t);if(s){var c=parseInt(s[2],10);a=a.concat(n(o,c)),1===r?a.push(u(s[3])+"^ "+e.url):a.push(u(s[3])+"^"),(a=a.concat(i(o,c))).push("= = = = = = = = =")}else a.push(t)}),t.stack=a.join("\n")}throw new r(this.url,t)}};var g=Object.create(null),p={},v={normalize:function(t,e,r){if("string"!=typeof t)throw new TypeError("module name must be a string, not "+typeof t);if(m(t))return f(t);if(/[^\.]\/\.\.\//.test(t))throw new Error("module name embeds /../: "+t);return"."===t[0]&&e?d(e,t):f(t)},get:function(t){var e=o(t);if(e){var r=g[e.url];return r||(r=a(e.getUncoatedModule(),p),g[e.url]=r)}},set:function(t,e){t=String(t),h[t]=new s(t,function(){return e}),g[t]=e},get baseURL(){return c},set baseURL(t){c=String(t)},registerModule:function(t,e,r){var n=v.normalize(t);if(h[n])throw new Error("duplicate module named "+n);h[n]=new s(n,r)},bundleStore:Object.create(null),register:function(t,e,r){e&&(e.length||r.length)?this.bundleStore[t]={deps:e,execute:function(){var t=arguments,n={};e.forEach(function(e,r){return n[e]=t[r]});var i=r.call(this,n);return i.execute.call(this),i.exports}}:this.registerModule(t,e,r)},getAnonymousModule:function(t){return new a(t(),p)}},y=new a({ModuleStore:v});v.set("@traceur/src/runtime/ModuleStore.js",y);var b=$traceurRuntime.setupGlobals;$traceurRuntime.setupGlobals=function(t){b(t)},$traceurRuntime.ModuleStore=v,$traceurRuntime.registerModule=v.registerModule.bind(v),$traceurRuntime.getModule=v.get,$traceurRuntime.setModule=v.set,$traceurRuntime.normalizeModuleName=v.normalize}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/new-unique-string.js",[],function(){"use strict";function t(){return"__$"+(1e9*e()>>>1)+"$"+ ++r+"$__"}var e=Math.random,r=Date.now()%1e9;return{get default(){return t}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/has-native-symbols.js",[],function(){"use strict";function t(){return e}var e=!!Object.getOwnPropertySymbols&&"function"==typeof Symbol;return{get default(){return t}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/modules/symbols.js",[],function(){"use strict";function t(t){return{configurable:!0,enumerable:!1,value:t,writable:!0}}function e(t){var e=o();l(this,v,{value:this}),l(this,g,{value:e}),l(this,p,{value:t}),f(this),y[e]=this}function r(t){return y[t]}function n(t){for(var e=[],n=0;n<t.length;n++)r(t[n])||e.push(t[n]);return e}function i(t){return n(d(t))}function u(t){return n(m(t))}function s(t){for(var e=[],r=d(t),n=0;n<r.length;n++){var i=y[r[n]];i&&e.push(i)}return e}var o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../new-unique-string.js","traceur-runtime@0.0.111/src/runtime/modules/symbols.js")).default,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../has-native-symbols.js","traceur-runtime@0.0.111/src/runtime/modules/symbols.js")).default,c=Object.create,l=Object.defineProperty,f=Object.freeze,d=Object.getOwnPropertyNames,m=Object.keys,h=TypeError,g=o(),p=o(),v=o(),y=c(null),b=function(t){var r=new e(t);if(!(this instanceof b))return r;throw new h("Symbol cannot be new'ed")};l(b.prototype,"constructor",t(b)),l(b.prototype,"toString",t(function(){return this[v][g]})),l(b.prototype,"valueOf",t(function(){var t=this[v];if(!t)throw h("Conversion from symbol to string");return t[g]})),l(e.prototype,"constructor",t(b)),l(e.prototype,"toString",{value:b.prototype.toString,enumerable:!1}),l(e.prototype,"valueOf",{value:b.prototype.valueOf,enumerable:!1}),f(e.prototype),function(e){var r=e.Object;a()||(e.Symbol=b,r.getOwnPropertyNames=i,r.keys=u,l(r,"getOwnPropertySymbols",t(s))),e.Symbol.iterator||(e.Symbol.iterator=e.Symbol("Symbol.iterator")),e.Symbol.observer||(e.Symbol.observer=e.Symbol("Symbol.observer"))}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:void 0);var j=a()?function(t){return typeof t}:function(t){return t instanceof e?"symbol":typeof t};return{get typeof(){return j}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/modules/typeof.js",[],function(){"use strict";var t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./symbols.js","traceur-runtime@0.0.111/src/runtime/modules/typeof.js"));return{get default(){return t.typeof}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/symbols.js",[],function(){"use strict";var t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/typeof.js","traceur-runtime@0.0.111/src/runtime/symbols.js")).default;return $traceurRuntime.typeof=t,{}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/modules/createClass.js",[],function(){"use strict";function t(t,e){d(t).forEach(e),m&&m(t).forEach(e)}function e(e){var r={};return t(e,function(t){r[t]=f(e,t),r[t].enumerable=!1}),r}function r(e){t(e,function(t){l(e,t,h)})}function n(t,n,u,s){return l(n,"constructor",{value:t,configurable:!0,enumerable:!1,writable:!0}),arguments.length>3?("function"==typeof s&&(t.__proto__=s),t.prototype=a(i(s),e(n))):(r(n),t.prototype=n),l(t,"prototype",{configurable:!1,writable:!1}),c(t,e(u))}function i(t){if("function"==typeof t){var e=t.prototype;if(u(e)===e||null===e)return t.prototype;throw new s("super prototype must be an Object or null")}if(null===t)return null;throw new s("Super expression must either be null or a function, not "+typeof t+".")}var u=Object,s=TypeError,o=Object,a=o.create,c=o.defineProperties,l=o.defineProperty,f=o.getOwnPropertyDescriptor,d=o.getOwnPropertyNames,m=o.getOwnPropertySymbols,h={enumerable:!1};return{get default(){return n}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/modules/superConstructor.js",[],function(){"use strict";function t(t){return t.__proto__}return{get default(){return t}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/modules/superDescriptor.js",[],function(){"use strict";function t(t,e){var i=n(t);do{var u=r(i,e);if(u)return u;i=n(i)}while(i)}var e=Object,r=e.getOwnPropertyDescriptor,n=e.getPrototypeOf;return{get default(){return t}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/modules/superGet.js",[],function(){"use strict";function t(t,r,n){var i=e(r,n);if(i){var u=i.value;return u||(i.get?i.get.call(t):u)}}var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./superDescriptor.js","traceur-runtime@0.0.111/src/runtime/modules/superGet.js")).default;return{get default(){return t}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/modules/superSet.js",[],function(){"use strict";function t(t,n,i,u){var s=e(n,i);if(s&&s.set)return s.set.call(t,u),u;throw r("super has no setter '"+i+"'.")}var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./superDescriptor.js","traceur-runtime@0.0.111/src/runtime/modules/superSet.js")).default,r=TypeError;return{get default(){return t}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/classes.js",[],function(){"use strict";var t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/createClass.js","traceur-runtime@0.0.111/src/runtime/classes.js")).default,e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/superConstructor.js","traceur-runtime@0.0.111/src/runtime/classes.js")).default,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/superGet.js","traceur-runtime@0.0.111/src/runtime/classes.js")).default,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/superSet.js","traceur-runtime@0.0.111/src/runtime/classes.js")).default;return $traceurRuntime.createClass=t,$traceurRuntime.superConstructor=e,$traceurRuntime.superGet=r,$traceurRuntime.superSet=n,{}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/modules/exportStar.js",[],function(){"use strict";function t(t){for(var e=arguments,i=1;i<arguments.length;i++)!function(i){var u=e[i],s=n(u);t:for(var o=0;o<s.length;o++)switch(function(e){var n=s[e];if("__esModule"===n||"default"===n)return 0;r(t,n,{get:function(){return u[n]},enumerable:!0})}(o)){case 0:continue t}}(i);return t}var e=Object,r=e.defineProperty,n=e.getOwnPropertyNames;return{get default(){return t}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/exportStar.js",[],function(){"use strict";var t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/exportStar.js","traceur-runtime@0.0.111/src/runtime/exportStar.js")).default;return $traceurRuntime.exportStar=t,{}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/private-symbol.js",[],function(){"use strict";function t(t){return l[t]}function e(){var t=(a||o)();return l[t]=!0,t}function r(t,e){return hasOwnProperty.call(t,e)}function n(t,e){return!!r(t,e)&&(delete t[e],!0)}function i(t,e,r){t[e]=r}function u(t,e){var r=t[e];if(void 0!==r)return hasOwnProperty.call(t,e)?r:void 0}function s(){c&&(Object.getOwnPropertySymbols=function(e){for(var r=[],n=c(e),i=0;i<n.length;i++){var u=n[i];t(u)||r.push(u)}return r})}var o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./new-unique-string.js","traceur-runtime@0.0.111/src/runtime/private-symbol.js")).default,a="function"==typeof Symbol?Symbol:void 0,c=Object.getOwnPropertySymbols,l=(0,Object.create)(null);return{get isPrivateSymbol(){return t},get createPrivateSymbol(){return e},get hasPrivate(){return r},get deletePrivate(){return n},get setPrivate(){return i},get getPrivate(){return u},get init(){return s}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/private-weak-map.js",[],function(){"use strict";function t(t){return!1}function e(){return new o}function r(t,e){return e.has(t)}function n(t,e){return e.delete(t)}function i(t,e,r){e.set(t,r)}function u(t,e){return e.get(t)}function s(){}var o="function"==typeof WeakMap?WeakMap:void 0;return{get isPrivateSymbol(){return t},get createPrivateSymbol(){return e},get hasPrivate(){return r},get deletePrivate(){return n},get setPrivate(){return i},get getPrivate(){return u},get init(){return s}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/private.js",[],function(){"use strict";var t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./private-symbol.js","traceur-runtime@0.0.111/src/runtime/private.js")),e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./private-weak-map.js","traceur-runtime@0.0.111/src/runtime/private.js")),r="function"==typeof WeakMap?e:t,n=r.isPrivateSymbol,i=r.createPrivateSymbol,u=r.hasPrivate,s=r.deletePrivate,o=r.setPrivate,a=r.getPrivate;return r.init(),{get isPrivateSymbol(){return n},get createPrivateSymbol(){return i},get hasPrivate(){return u},get deletePrivate(){return s},get setPrivate(){return o},get getPrivate(){return a}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/modules/properTailCalls.js",[],function(){"use strict";function t(t,e,r){return[h,t,e,r]}function e(t){return t&&t[0]===h}function r(t,e,r){for(var n=[e],i=0;i<r.length;i++)n[i+1]=r[i];return m(Function.prototype.bind,t,n)}function n(t,e){return new(r(t,null,e))}function i(t){return!!l(t,g)}function u(r,n,u){var s=u[0];if(e(s))return s=m(r,n,s[3]);for(s=t(r,n,u);;){if(s=i(r)?m(r,s[2],[s]):m(r,s[2],s[3]),!e(s))return s;r=s[1]}}function s(){return i(this)?n(this,[t(null,null,arguments)]):n(this,arguments)}function o(){g=d(),Function.prototype.call=a(function(e){return u(function(e){for(var r=[],n=1;n<arguments.length;++n)r[n-1]=arguments[n];return t(this,e,r)},this,arguments)}),Function.prototype.apply=a(function(e,r){return u(function(e,r){return t(this,e,r)},this,arguments)})}function a(t){return null===g&&o(),f(t,g,!0),t}var c=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../private.js","traceur-runtime@0.0.111/src/runtime/modules/properTailCalls.js")),l=c.getPrivate,f=c.setPrivate,d=c.createPrivateSymbol,m=Function.prototype.call.bind(Function.prototype.apply),h=Object.create(null),g=null;return{get createContinuation(){return t},get tailCall(){return u},get construct(){return s},get initTailRecursiveFunction(){return a}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/modules/initTailRecursiveFunction.js",[],function(){"use strict";var t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./properTailCalls.js","traceur-runtime@0.0.111/src/runtime/modules/initTailRecursiveFunction.js"));return{get default(){return t.initTailRecursiveFunction}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/modules/call.js",[],function(){"use strict";var t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./properTailCalls.js","traceur-runtime@0.0.111/src/runtime/modules/call.js"));return{get default(){return t.tailCall}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/modules/continuation.js",[],function(){"use strict";var t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./properTailCalls.js","traceur-runtime@0.0.111/src/runtime/modules/continuation.js"));return{get default(){return t.createContinuation}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/modules/construct.js",[],function(){"use strict";var t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./properTailCalls.js","traceur-runtime@0.0.111/src/runtime/modules/construct.js"));return{get default(){return t.construct}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/properTailCalls.js",[],function(){"use strict";var t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/initTailRecursiveFunction.js","traceur-runtime@0.0.111/src/runtime/properTailCalls.js")).default,e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/call.js","traceur-runtime@0.0.111/src/runtime/properTailCalls.js")).default,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/continuation.js","traceur-runtime@0.0.111/src/runtime/properTailCalls.js")).default,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/construct.js","traceur-runtime@0.0.111/src/runtime/properTailCalls.js")).default;return $traceurRuntime.initTailRecursiveFunction=t,$traceurRuntime.call=e,$traceurRuntime.continuation=r,$traceurRuntime.construct=n,{}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/relativeRequire.js",[],function(){"use strict";var t;return $traceurRuntime.require=function(e,r){if(t=t||"undefined"!=typeof require&&require("path"),!("/"===r.slice(-1)||"/"===r[0]))return"."===r[0]?require(t.resolve(t.dirname(e),r)):require(r)},{}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/checkObjectCoercible.js",[],function(){"use strict";function t(t){if(null===t||void 0===t)throw new e("Value cannot be converted to an Object");return t}var e=TypeError;return{get default(){return t}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/modules/spread.js",[],function(){"use strict";function t(){for(var t,r=[],n=0,i=0;i<arguments.length;i++){var u=e(arguments[i]);if("function"!=typeof u[Symbol.iterator])throw new TypeError("Cannot spread non-iterable object.");for(var s=u[Symbol.iterator]();!(t=s.next()).done;)r[n++]=t.value}return r}var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../checkObjectCoercible.js","traceur-runtime@0.0.111/src/runtime/modules/spread.js")).default;return{get default(){return t}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/spread.js",[],function(){"use strict";var t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/spread.js","traceur-runtime@0.0.111/src/runtime/spread.js")).default;return $traceurRuntime.spread=t,{}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/modules/iteratorToArray.js",[],function(){"use strict";function t(t){for(var e,r=[],n=0;!(e=t.next()).done;)r[n++]=e.value;return r}return{get default(){return t}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/destructuring.js",[],function(){"use strict";var t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/iteratorToArray.js","traceur-runtime@0.0.111/src/runtime/destructuring.js")).default;return $traceurRuntime.iteratorToArray=t,{}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/modules/async.js",[],function(){"use strict";function t(){}function e(){}function r(t){return t.prototype=d(e.prototype),t.__proto__=e,t}function n(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=d(e.prototype);return l(i,h,t),i}function i(t,e){return new Promise(function(r,n){var i=t({next:function(t){return e.call(i,t)},throw:function(t){n(t)},return:function(t){r(t)}})})}function u(t){return Promise.resolve().then(t)}function s(t,e){return new y(t,e)}var o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../private.js","traceur-runtime@0.0.111/src/runtime/modules/async.js")),a=o.createPrivateSymbol,c=o.getPrivate,l=o.setPrivate,f=Object,d=f.create,m=f.defineProperty,h=a();t.prototype=e,e.constructor=t,m(e,"constructor",{enumerable:!1});var g=function(){return $traceurRuntime.createClass(function(t){var e=this;this.decoratedObserver=s(t,function(){e.done=!0}),this.done=!1,this.inReturn=!1},{throw:function(t){if(!this.inReturn)throw t},yield:function(t){if(this.done)throw void(this.inReturn=!0);var e;try{e=this.decoratedObserver.next(t)}catch(t){throw this.done=!0,t}if(void 0!==e){if(e.done)throw this.done=!0,void(this.inReturn=!0);return e.value}},yieldFor:function(t){var e=this;return i(t[Symbol.observer].bind(t),function(t){if(e.done)this.return();else{var r;try{r=e.decoratedObserver.next(t)}catch(t){throw e.done=!0,t}if(void 0!==r)return r.done&&(e.done=!0),r}})}},{})}();e.prototype[Symbol.observer]=function(t){var e=c(this,h),r=new g(t);return u(function(){return e(r)}).then(function(t){r.done||r.decoratedObserver.return(t)}).catch(function(t){r.done||r.decoratedObserver.throw(t)}),r.decoratedObserver},m(e.prototype,Symbol.observer,{enumerable:!1});var p=Symbol(),v=Symbol(),y=function(){return $traceurRuntime.createClass(function(t,e){this[p]=t,this[v]=e},{next:function(t){var e=this[p].next(t);return void 0!==e&&e.done&&this[v].call(this),e},throw:function(t){return this[v].call(this),this[p].throw(t)},return:function(t){return this[v].call(this),this[p].return(t)}},{})}();return Array.prototype[Symbol.observer]=function(t){var e=!1,r=s(t,function(){return e=!0}),n=!0,i=!1,u=void 0;try{for(var o=void 0,a=this[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var c=o.value;if(r.next(c),e)return}}catch(t){i=!0,u=t}finally{try{n||null==a.return||a.return()}finally{if(i)throw u}}return r.return(),r},m(Array.prototype,Symbol.observer,{enumerable:!1}),{get initAsyncGeneratorFunction(){return r},get createAsyncGeneratorInstance(){return n},get observeForEach(){return i},get schedule(){return u},get createDecoratedGenerator(){return s}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/modules/initAsyncGeneratorFunction.js",[],function(){"use strict";var t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./async.js","traceur-runtime@0.0.111/src/runtime/modules/initAsyncGeneratorFunction.js"));return{get default(){return t.initAsyncGeneratorFunction}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/modules/createAsyncGeneratorInstance.js",[],function(){"use strict";var t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./async.js","traceur-runtime@0.0.111/src/runtime/modules/createAsyncGeneratorInstance.js"));return{get default(){return t.createAsyncGeneratorInstance}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/modules/observeForEach.js",[],function(){"use strict";var t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./async.js","traceur-runtime@0.0.111/src/runtime/modules/observeForEach.js"));return{get default(){return t.observeForEach}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/modules/schedule.js",[],function(){"use strict";var t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./async.js","traceur-runtime@0.0.111/src/runtime/modules/schedule.js"));return{get default(){return t.schedule}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/modules/createDecoratedGenerator.js",[],function(){"use strict";var t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./async.js","traceur-runtime@0.0.111/src/runtime/modules/createDecoratedGenerator.js"));return{get default(){return t.createDecoratedGenerator}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/async.js",[],function(){"use strict";var t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/initAsyncGeneratorFunction.js","traceur-runtime@0.0.111/src/runtime/async.js")).default,e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/createAsyncGeneratorInstance.js","traceur-runtime@0.0.111/src/runtime/async.js")).default,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/observeForEach.js","traceur-runtime@0.0.111/src/runtime/async.js")).default,n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/schedule.js","traceur-runtime@0.0.111/src/runtime/async.js")).default,i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/createDecoratedGenerator.js","traceur-runtime@0.0.111/src/runtime/async.js")).default;return $traceurRuntime.initAsyncGeneratorFunction=t,$traceurRuntime.createAsyncGeneratorInstance=e,$traceurRuntime.observeForEach=r,$traceurRuntime.schedule=n,$traceurRuntime.createDecoratedGenerator=i,{}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/modules/generators.js",[],function(){"use strict";function t(t){return{configurable:!0,enumerable:!1,value:t,writable:!0}}function e(t){return new Error("Traceur compiler bug: invalid state in state machine: "+t)}function r(){this.state=0,this.GState=$,this.storedException=void 0,this.finallyFallThrough=void 0,this.sent_=void 0,this.returnValue=void 0,this.oldReturnValue=void 0,this.tryStack_=[]}function n(t,e,r,n){switch(t.GState){case _:throw new Error('"'+r+'" on executing generator');case R:if("next"==r)return{value:void 0,done:!0};if(n===M)return{value:t.returnValue,done:!0};throw n;case $:if("throw"===r){if(t.GState=R,n===M)return{value:t.returnValue,done:!0};throw n}if(void 0!==n)throw p("Sent value to newborn generator");case w:t.GState=_,t.action=r,t.sent=n;var i;try{i=e(t)}catch(e){if(e!==M)throw e;i=t}var u=i===t;return u&&(i=t.returnValue),t.GState=u?R:w,{value:i,done:u}}}function i(){}function u(){}function s(t,e,n){var i=l(t,n),u=new r,s=y(e.prototype);return g(s,S,u),g(s,x,i),s}function o(t){return t.prototype=y(u.prototype),t.__proto__=u,t}function a(){r.call(this),this.err=void 0;var t=this;t.result=new Promise(function(e,r){t.resolve=e,t.reject=r})}function c(t,e){var r=l(t,e),n=new a;return n.createCallback=function(t){return function(e){n.state=t,n.value=e,r(n)}},n.errback=function(t){f(n,t),r(n)},r(n),n.result}function l(t,e){return function(r){for(;;)try{return t.call(e,r)}catch(t){f(r,t)}}}function f(t,e){t.storedException=e;var r=t.tryStack_[t.tryStack_.length-1];r?(t.state=void 0!==r.catch?r.catch:r.finally,void 0!==r.finallyFallThrough&&(t.finallyFallThrough=r.finallyFallThrough)):t.handleException(e)}var d=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../private.js","traceur-runtime@0.0.111/src/runtime/modules/generators.js")),m=d.createPrivateSymbol,h=d.getPrivate,g=d.setPrivate,p=TypeError,v=Object,y=v.create,b=v.defineProperties,j=v.defineProperty,$=0,_=1,w=2,R=3,M={};r.prototype={pushTry:function(t,e){if(null!==e){for(var r=null,n=this.tryStack_.length-1;n>=0;n--)if(void 0!==this.tryStack_[n].catch){r=this.tryStack_[n].catch;break}null===r&&(r=-3),this.tryStack_.push({finally:e,finallyFallThrough:r})}null!==t&&this.tryStack_.push({catch:t})},popTry:function(){this.tryStack_.pop()},maybeUncatchable:function(){if(this.storedException===M)throw M},get sent(){return this.maybeThrow(),this.sent_},set sent(t){this.sent_=t},get sentIgnoreThrow(){return this.sent_},maybeThrow:function(){if("throw"===this.action)throw this.action="next",this.sent_},end:function(){switch(this.state){case-2:return this;case-3:throw this.storedException;default:throw e(this.state)}},handleException:function(t){throw this.GState=R,this.state=-2,t},wrapYieldStar:function(t){var e=this;return{next:function(e){return t.next(e)},throw:function(r){var n;if(r===M){if(t.return){if(!(n=t.return(e.returnValue)).done)return e.returnValue=e.oldReturnValue,n;e.returnValue=n.value}throw r}if(t.throw)return t.throw(r);throw t.return&&t.return(),p("Inner iterator does not have a throw method")}}}};var S=m(),x=m();return i.prototype=u,j(u,"constructor",t(i)),u.prototype={constructor:u,next:function(t){return n(h(this,S),h(this,x),"next",t)},throw:function(t){return n(h(this,S),h(this,x),"throw",t)},return:function(t){var e=h(this,S);return e.oldReturnValue=e.returnValue,e.returnValue=t,n(e,h(this,x),"throw",M)}},b(u.prototype,{constructor:{enumerable:!1},next:{enumerable:!1},throw:{enumerable:!1},return:{enumerable:!1}}),Object.defineProperty(u.prototype,Symbol.iterator,t(function(){return this})),a.prototype=y(r.prototype),a.prototype.end=function(){switch(this.state){case-2:this.resolve(this.returnValue);break;case-3:this.reject(this.storedException);break;default:this.reject(e(this.state))}},a.prototype.handleException=function(){this.state=-3},{get createGeneratorInstance(){return s},get initGeneratorFunction(){return o},get asyncWrap(){return c}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/modules/asyncWrap.js",[],function(){"use strict";var t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./generators.js","traceur-runtime@0.0.111/src/runtime/modules/asyncWrap.js"));return{get default(){return t.asyncWrap}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/modules/initGeneratorFunction.js",[],function(){"use strict";var t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./generators.js","traceur-runtime@0.0.111/src/runtime/modules/initGeneratorFunction.js"));return{get default(){return t.initGeneratorFunction}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/modules/createGeneratorInstance.js",[],function(){"use strict";var t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./generators.js","traceur-runtime@0.0.111/src/runtime/modules/createGeneratorInstance.js"));return{get default(){return t.createGeneratorInstance}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/generators.js",[],function(){"use strict";var t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/asyncWrap.js","traceur-runtime@0.0.111/src/runtime/generators.js")).default,e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/initGeneratorFunction.js","traceur-runtime@0.0.111/src/runtime/generators.js")).default,r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/createGeneratorInstance.js","traceur-runtime@0.0.111/src/runtime/generators.js")).default;return $traceurRuntime.asyncWrap=t,$traceurRuntime.initGeneratorFunction=e,$traceurRuntime.createGeneratorInstance=r,{}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/modules/spawn.js",[],function(){"use strict";function t(t,e,r){return new Promise(function(n,i){function u(t){try{o(r.next(t))}catch(t){i(t)}}function s(t){try{o(r.throw(t))}catch(t){i(t)}}function o(t){t.done?n(t.value):Promise.resolve(t.value).then(u,s)}o((r=r.apply(t,e)).next())})}return{get default(){return t}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/spawn.js",[],function(){"use strict";var t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/spawn.js","traceur-runtime@0.0.111/src/runtime/spawn.js")).default;return $traceurRuntime.spawn=t,{}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/modules/getTemplateObject.js",[],function(){"use strict";function t(t){var e=arguments[1],s=t.join("${}"),o=u[s];return o||(e||(e=i.call(t)),u[s]=n(r(e,"raw",{value:n(t)})))}var e=Object,r=e.defineProperty,n=e.freeze,i=Array.prototype.slice,u=Object.create(null);return{get default(){return t}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/template.js",[],function(){"use strict";var t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/getTemplateObject.js","traceur-runtime@0.0.111/src/runtime/template.js")).default;return $traceurRuntime.getTemplateObject=t,{}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/modules/spreadProperties.js",[],function(){"use strict";function t(t,e,r){n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0})}function e(e,r){if(null!=r){var n=function(n){for(var i=0;i<n.length;i++){var u=n[i];if(s.call(r,u)){var o=r[u];t(e,u,o)}}};n(i(r)),n(u(r))}}var r=Object,n=r.defineProperty,i=r.getOwnPropertyNames,u=r.getOwnPropertySymbols,s=r.propertyIsEnumerable,o=function(){for(var t=arguments[0],r=1;r<arguments.length;r++)e(t,arguments[r]);return t};return{get default(){return o}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/jsx.js",[],function(){"use strict";var t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/spreadProperties.js","traceur-runtime@0.0.111/src/runtime/jsx.js")).default;return $traceurRuntime.spreadProperties=t,{}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/runtime-modules.js",[],function(){"use strict";return $traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./symbols.js","traceur-runtime@0.0.111/src/runtime/runtime-modules.js")),$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./classes.js","traceur-runtime@0.0.111/src/runtime/runtime-modules.js")),$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./exportStar.js","traceur-runtime@0.0.111/src/runtime/runtime-modules.js")),$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./properTailCalls.js","traceur-runtime@0.0.111/src/runtime/runtime-modules.js")),$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./relativeRequire.js","traceur-runtime@0.0.111/src/runtime/runtime-modules.js")),$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./spread.js","traceur-runtime@0.0.111/src/runtime/runtime-modules.js")),$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./destructuring.js","traceur-runtime@0.0.111/src/runtime/runtime-modules.js")),$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./async.js","traceur-runtime@0.0.111/src/runtime/runtime-modules.js")),$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./generators.js","traceur-runtime@0.0.111/src/runtime/runtime-modules.js")),$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./spawn.js","traceur-runtime@0.0.111/src/runtime/runtime-modules.js")),$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./template.js","traceur-runtime@0.0.111/src/runtime/runtime-modules.js")),$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./jsx.js","traceur-runtime@0.0.111/src/runtime/runtime-modules.js")),{}}),$traceurRuntime.getModule("traceur-runtime@0.0.111/src/runtime/runtime-modules.js"),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/frozen-data.js",[],function(){"use strict";function t(t,e){for(var r=0;r<t.length;r+=2)if(t[r]===e)return r;return-1}function e(e,r,n){-1===t(e,r)&&e.push(r,n)}function r(e,r){var n=t(e,r);if(-1!==n)return e[n+1]}function n(e,r){return-1!==t(e,r)}function i(e,r){var n=t(e,r);return-1!==n&&(e.splice(n,2),!0)}return{get setFrozen(){return e},get getFrozen(){return r},get hasFrozen(){return n},get deleteFrozen(){return i}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/polyfills/utils.js",[],function(){"use strict";function t(t){if(null==t)throw R();return M(t)}function e(t){return t>>>0}function r(t){return t&&("object"==typeof t||"function"==typeof t)}function n(t){return"function"==typeof t}function i(t){return"number"==typeof t}function u(t){return t=+t,$(t)?0:0!==t&&j(t)?t>0?b(t):y(t):t}function s(t){var e=u(t);return e<0?0:w(e,S)}function o(t){return r(t)?t[Symbol.iterator]:void 0}function a(t){return n(t)}function c(t,e){return{value:t,done:e}}function l(t,e,r){e in t||Object.defineProperty(t,e,r)}function f(t,e,r){l(t,e,{value:r,configurable:!0,enumerable:!1,writable:!0})}function d(t,e,r){l(t,e,{value:r,configurable:!1,enumerable:!1,writable:!1})}function m(t,e){for(var r=0;r<e.length;r+=2)f(t,e[r],e[r+1])}function h(t,e){for(var r=0;r<e.length;r+=2)d(t,e[r],e[r+1])}function g(t,e,r){r&&r.iterator&&!t[r.iterator]&&(t["@@iterator"]&&(e=t["@@iterator"]),Object.defineProperty(t,r.iterator,{value:e,configurable:!0,enumerable:!1,writable:!0}))}function p(t){x.push(t)}function v(t){x.forEach(function(e){return e(t)})}var y=Math.ceil,b=Math.floor,j=isFinite,$=isNaN,_=Math.pow,w=Math.min,R=TypeError,M=Object,S=_(2,53)-1,x=[];return{get toObject(){return t},get toUint32(){return e},get isObject(){return r},get isCallable(){return n},get isNumber(){return i},get toInteger(){return u},get toLength(){return s},get checkIterable(){return o},get isConstructor(){return a},get createIteratorResultObject(){return c},get maybeDefine(){return l},get maybeDefineMethod(){return f},get maybeDefineConst(){return d},get maybeAddFunctions(){return m},get maybeAddConsts(){return h},get maybeAddIterator(){return g},get registerPolyfill(){return p},get polyfillAll(){return v}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/polyfills/Map.js",[],function(){"use strict";function t(t){return a(t,R)}function e(e){var r=t(e);return r||(r=w++,c(e,R,r)),r}function r(e,r){if("string"==typeof r)return e.stringIndex_[r];if(g(r)){if(!$(r))return d(e.frozenData_,r);var n=t(r);if(void 0===n)return;return e.objectIndex_[n]}return e.primitiveIndex_[r]}function n(t){t.entries_=[],t.objectIndex_=Object.create(null),t.stringIndex_=Object.create(null),t.primitiveIndex_=Object.create(null),t.frozenData_=[],t.deletedCount_=0}function i(t){var e=t,r=e.Map,n=e.Symbol;if(!(r&&v()&&r.prototype[n.iterator]&&r.prototype.entries))return!0;try{return 1!==new r([[]]).size}catch(t){return!1}}function u(t){i(t)&&(t.Map=M)}var s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../private.js","traceur-runtime@0.0.111/src/runtime/polyfills/Map.js")),o=s.createPrivateSymbol,a=s.getPrivate,c=s.setPrivate,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../frozen-data.js","traceur-runtime@0.0.111/src/runtime/polyfills/Map.js")),f=l.deleteFrozen,d=l.getFrozen,m=l.setFrozen,h=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./utils.js","traceur-runtime@0.0.111/src/runtime/polyfills/Map.js")),g=h.isObject,p=h.registerPolyfill,v=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../has-native-symbols.js","traceur-runtime@0.0.111/src/runtime/polyfills/Map.js")).default,y=Object,b=y.defineProperty,j=(y.getOwnPropertyDescriptor,y.hasOwnProperty),$=y.isExtensible,_={},w=1,R=o(),M=function(){return $traceurRuntime.createClass(function(){var t,e,r=arguments[0];if(!g(this))throw new TypeError("Map called on incompatible type");if(j.call(this,"entries_"))throw new TypeError("Map can not be reentrantly initialised");if(n(this),null!==r&&void 0!==r){var i=!0,u=!1,s=void 0;try{for(var o=void 0,a=r[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){var c=(t=o.value[Symbol.iterator](),(e=t.next()).done?void 0:e.value),l=(e=t.next()).done?void 0:e.value;this.set(c,l)}}catch(t){u=!0,s=t}finally{try{i||null==a.return||a.return()}finally{if(u)throw s}}}},{get size(){return this.entries_.length/2-this.deletedCount_},get:function(t){var e=r(this,t);if(void 0!==e)return this.entries_[e+1]},set:function(t,n){var i=r(this,t);if(void 0!==i)this.entries_[i+1]=n;else if(i=this.entries_.length,this.entries_[i]=t,this.entries_[i+1]=n,g(t))if($(t)){var u=e(t);this.objectIndex_[u]=i}else m(this.frozenData_,t,i);else"string"==typeof t?this.stringIndex_[t]=i:this.primitiveIndex_[t]=i;return this},has:function(t){return void 0!==r(this,t)},delete:function(e){var n=r(this,e);if(void 0===n)return!1;if(this.entries_[n]=_,this.entries_[n+1]=void 0,this.deletedCount_++,g(e))if($(e)){var i=t(e);delete this.objectIndex_[i]}else f(this.frozenData_,e);else"string"==typeof e?delete this.stringIndex_[e]:delete this.primitiveIndex_[e];return!0},clear:function(){n(this)},forEach:function(t){for(var e=arguments[1],r=0;r<this.entries_.length;r+=2){var n=this.entries_[r],i=this.entries_[r+1];n!==_&&t.call(e,i,n,this)}},entries:$traceurRuntime.initGeneratorFunction(function t(){var e,r,n;return $traceurRuntime.createGeneratorInstance(function(t){for(;;)switch(t.state){case 0:e=0,t.state=12;break;case 12:t.state=e<this.entries_.length?8:-2;break;case 4:e+=2,t.state=12;break;case 8:r=this.entries_[e],n=this.entries_[e+1],t.state=9;break;case 9:t.state=r===_?4:6;break;case 6:return t.state=2,[r,n];case 2:t.maybeThrow(),t.state=4;break;default:return t.end()}},t,this)}),keys:$traceurRuntime.initGeneratorFunction(function t(){var e,r,n;return $traceurRuntime.createGeneratorInstance(function(t){for(;;)switch(t.state){case 0:e=0,t.state=12;break;case 12:t.state=e<this.entries_.length?8:-2;break;case 4:e+=2,t.state=12;break;case 8:r=this.entries_[e],n=this.entries_[e+1],t.state=9;break;case 9:t.state=r===_?4:6;break;case 6:return t.state=2,r;case 2:t.maybeThrow(),t.state=4;break;default:return t.end()}},t,this)}),values:$traceurRuntime.initGeneratorFunction(function t(){var e,r,n;return $traceurRuntime.createGeneratorInstance(function(t){for(;;)switch(t.state){case 0:e=0,t.state=12;break;case 12:t.state=e<this.entries_.length?8:-2;break;case 4:e+=2,t.state=12;break;case 8:r=this.entries_[e],n=this.entries_[e+1],t.state=9;break;case 9:t.state=r===_?4:6;break;case 6:return t.state=2,n;case 2:t.maybeThrow(),t.state=4;break;default:return t.end()}},t,this)})},{})}();return b(M.prototype,Symbol.iterator,{configurable:!0,writable:!0,value:M.prototype.entries}),p(u),{get Map(){return M},get polyfillMap(){return u}}}),$traceurRuntime.getModule("traceur-runtime@0.0.111/src/runtime/polyfills/Map.js"),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/polyfills/Set.js",[],function(){"use strict";function t(t){var e=t,r=e.Set,n=e.Symbol;if(!(r&&s()&&r.prototype[n.iterator]&&r.prototype.values))return!0;try{return 1!==new r([1]).size}catch(t){return!1}}function e(e){t(e)&&(e.Set=a)}var r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./utils.js","traceur-runtime@0.0.111/src/runtime/polyfills/Set.js")),n=r.isObject,i=r.registerPolyfill,u=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./Map.js","traceur-runtime@0.0.111/src/runtime/polyfills/Set.js")).Map,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../has-native-symbols.js","traceur-runtime@0.0.111/src/runtime/polyfills/Set.js")).default,o=Object.prototype.hasOwnProperty,a=function(){return $traceurRuntime.createClass(function(){var t=arguments[0];if(!n(this))throw new TypeError("Set called on incompatible type");if(o.call(this,"map_"))throw new TypeError("Set can not be reentrantly initialised");if(this.map_=new u,null!==t&&void 0!==t){var e=!0,r=!1,i=void 0;try{for(var s=void 0,a=t[Symbol.iterator]();!(e=(s=a.next()).done);e=!0){var c=s.value;this.add(c)}}catch(t){r=!0,i=t}finally{try{e||null==a.return||a.return()}finally{if(r)throw i}}}},{get size(){return this.map_.size},has:function(t){return this.map_.has(t)},add:function(t){return this.map_.set(t,t),this},delete:function(t){return this.map_.delete(t)},clear:function(){return this.map_.clear()},forEach:function(t){var e=arguments[1],r=this;return this.map_.forEach(function(n,i){t.call(e,i,i,r)})},values:$traceurRuntime.initGeneratorFunction(function t(){var e,r;return $traceurRuntime.createGeneratorInstance(function(t){for(;;)switch(t.state){case 0:e=t.wrapYieldStar(this.map_.keys()[Symbol.iterator]()),t.sent=void 0,t.action="next",t.state=12;break;case 12:r=e[t.action](t.sentIgnoreThrow),t.state=9;break;case 9:t.state=r.done?3:2;break;case 3:t.sent=r.value,t.state=-2;break;case 2:return t.state=12,r.value;default:return t.end()}},t,this)}),entries:$traceurRuntime.initGeneratorFunction(function t(){var e,r;return $traceurRuntime.createGeneratorInstance(function(t){for(;;)switch(t.state){case 0:e=t.wrapYieldStar(this.map_.entries()[Symbol.iterator]()),t.sent=void 0,t.action="next",t.state=12;break;case 12:r=e[t.action](t.sentIgnoreThrow),t.state=9;break;case 9:t.state=r.done?3:2;break;case 3:t.sent=r.value,t.state=-2;break;case 2:return t.state=12,r.value;default:return t.end()}},t,this)})},{})}();return Object.defineProperty(a.prototype,Symbol.iterator,{configurable:!0,writable:!0,value:a.prototype.values}),Object.defineProperty(a.prototype,"keys",{configurable:!0,writable:!0,value:a.prototype.values}),i(e),{get Set(){return a},get polyfillSet(){return e}}}),$traceurRuntime.getModule("traceur-runtime@0.0.111/src/runtime/polyfills/Set.js"),$traceurRuntime.registerModule("traceur-runtime@0.0.111/node_modules/rsvp/lib/rsvp/asap.js",[],function(){"use strict";function t(t,e){d[s]=t,d[s+1]=e,2===(s+=2)&&u()}function e(){return function(){i(n)}}function r(){return function(){setTimeout(n,1)}}function n(){for(var t=0;t<s;t+=2)(0,d[t])(d[t+1]),d[t]=void 0,d[t+1]=void 0;s=0}var i,u,s=0,o="undefined"!=typeof window?window:void 0,a=o||{},c=a.MutationObserver||a.WebKitMutationObserver,l="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,d=new Array(1e3);return u=l?function(){var t=process.nextTick,e=process.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(e)&&"0"===e[1]&&"10"===e[2]&&(t=setImmediate),function(){t(n)}}():c?function(){var t=0,e=new c(n),r=document.createTextNode("");return e.observe(r,{characterData:!0}),function(){r.data=t=++t%2}}():f?function(){var t=new MessageChannel;return t.port1.onmessage=n,function(){t.port2.postMessage(0)}}():void 0===o&&"function"==typeof require?function(){try{var t=require("vertx");return i=t.runOnLoop||t.runOnContext,e()}catch(t){return r()}}():r(),{get default(){return t}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/polyfills/Promise.js",[],function(){"use strict";function t(t){return t&&"object"==typeof t&&void 0!==t.status_}function e(t){return t}function r(t){throw t}function n(t){var n=void 0!==arguments[1]?arguments[1]:e,u=void 0!==arguments[2]?arguments[2]:r,s=i(t.constructor);switch(t.status_){case void 0:throw TypeError;case 0:t.onResolve_.push(n,s),t.onReject_.push(u,s);break;case 1:l(t.value_,[n,s]);break;case-1:l(t.value_,[u,s])}return s.promise}function i(t){if(this===R){var e=s(new R(_));return{promise:e,resolve:function(t){o(e,t)},reject:function(t){a(e,t)}}}var r={};return r.promise=new t(function(t,e){r.resolve=t,r.reject=e}),r}function u(t,e,r,n,i){return t.status_=e,t.value_=r,t.onResolve_=n,t.onReject_=i,t}function s(t){return u(t,0,void 0,[],[])}function o(t,e){c(t,1,e,t.onResolve_)}function a(t,e){c(t,-1,e,t.onReject_)}function c(t,e,r,n){0===t.status_&&(l(r,n),u(t,e,r))}function l(t,e){h(function(){for(var r=0;r<e.length;r+=2)f(t,e[r],e[r+1])})}function f(e,r,i){try{var u=r(e);if(u===i.promise)throw new TypeError;t(u)?n(u,i.resolve,i.reject):i.resolve(u)}catch(t){try{i.reject(t)}catch(t){}}}function d(e,r){if(!t(r)&&p(r)){var n;try{n=r.then}catch(t){var u=M.call(e,t);return $(r,S,u),u}if("function"==typeof n){var s=j(r,S);if(s)return s;var o=i(e);$(r,S,o.promise);try{n.call(r,o.resolve,o.reject)}catch(t){o.reject(t)}return o.promise}}return r}function m(t){t.Promise||(t.Promise=w)}var h=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../../../node_modules/rsvp/lib/rsvp/asap.js","traceur-runtime@0.0.111/src/runtime/polyfills/Promise.js")).default,g=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./utils.js","traceur-runtime@0.0.111/src/runtime/polyfills/Promise.js")),p=g.isObject,v=g.registerPolyfill,y=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../private.js","traceur-runtime@0.0.111/src/runtime/polyfills/Promise.js")),b=y.createPrivateSymbol,j=y.getPrivate,$=y.setPrivate,_={},w=function(){return $traceurRuntime.createClass(function(t){if(t!==_){if("function"!=typeof t)throw new TypeError;var e=s(this);try{t(function(t){o(e,t)},function(t){a(e,t)})}catch(t){a(e,t)}}},{catch:function(t){return this.then(void 0,t)},then:function(i,u){"function"!=typeof i&&(i=e),"function"!=typeof u&&(u=r);var s=this,o=this.constructor;return n(this,function(e){return(e=d(o,e))===s?u(new TypeError):t(e)?e.then(i,u):i(e)},u)}},{resolve:function(e){return this===R?t(e)?e:u(new R(_),1,e):new this(function(t,r){t(e)})},reject:function(t){return this===R?u(new R(_),-1,t):new this(function(e,r){r(t)})},all:function(t){var e=i(this),r=[];try{var n=0,u=0,s=!0,o=!1,a=void 0;try{for(var c=void 0,l=t[Symbol.iterator]();!(s=(c=l.next()).done);s=!0){var f=c.value,d=function(t){return function(i){r[t]=i,0==--n&&e.resolve(r)}}(u);this.resolve(f).then(d,function(t){e.reject(t)}),++u,++n}}catch(t){o=!0,a=t}finally{try{s||null==l.return||l.return()}finally{if(o)throw a}}0===n&&e.resolve(r)}catch(t){e.reject(t)}return e.promise},race:function(t){var e=i(this);try{for(var r=0;r<t.length;r++)this.resolve(t[r]).then(function(t){e.resolve(t)},function(t){e.reject(t)})}catch(t){e.reject(t)}return e.promise}})}(),R=w,M=R.reject,S=b();return v(m),{get Promise(){return w},get polyfillPromise(){return m}}}),$traceurRuntime.getModule("traceur-runtime@0.0.111/src/runtime/polyfills/Promise.js"),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/polyfills/StringIterator.js",[],function(){"use strict";function t(t){var e=String(t),r=Object.create(o.prototype);return r[u]=e,r[s]=0,r}var e=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./utils.js","traceur-runtime@0.0.111/src/runtime/polyfills/StringIterator.js")),r=e.createIteratorResultObject,n=e.isObject,i=Object.prototype.hasOwnProperty,u=Symbol("iteratedString"),s=Symbol("stringIteratorNextIndex"),o=function(){var t;return $traceurRuntime.createClass(function(){},(t={},Object.defineProperty(t,"next",{value:function(){var t=this;if(!n(t)||!i.call(t,u))throw new TypeError("this must be a StringIterator object");var e=t[u];if(void 0===e)return r(void 0,!0);var o=t[s],a=e.length;if(o>=a)return t[u]=void 0,r(void 0,!0);var c,l=e.charCodeAt(o);if(l<55296||l>56319||o+1===a)c=String.fromCharCode(l);else{var f=e.charCodeAt(o+1);c=f<56320||f>57343?String.fromCharCode(l):String.fromCharCode(l)+String.fromCharCode(f)}return t[s]=o+c.length,r(c,!1)},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(t,Symbol.iterator,{value:function(){return this},configurable:!0,enumerable:!0,writable:!0}),t),{})}();return{get createStringIterator(){return t}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/polyfills/String.js",[],function(){"use strict";function t(t){var e=String(this);if(null==this||"[object RegExp]"==g.call(t))throw TypeError();var r=e.length,n=String(t),i=(n.length,arguments.length>1?arguments[1]:void 0),u=i?Number(i):0;isNaN(u)&&(u=0);var s=Math.min(Math.max(u,0),r);return p.call(e,n,u)==s}function e(t){var e=String(this);if(null==this||"[object RegExp]"==g.call(t))throw TypeError();var r=e.length,n=String(t),i=n.length,u=r;if(arguments.length>1){var s=arguments[1];void 0!==s&&(u=s?Number(s):0,isNaN(u)&&(u=0))}var o=Math.min(Math.max(u,0),r)-i;return!(o<0)&&v.call(e,n,o)==o}function r(t){if(null==this)throw TypeError();var e=String(this);if(t&&"[object RegExp]"==g.call(t))throw TypeError();var r=e.length,n=String(t),i=n.length,u=arguments.length>1?arguments[1]:void 0,s=u?Number(u):0;return s!=s&&(s=0),!(i+Math.min(Math.max(s,0),r)>r)&&-1!=p.call(e,n,s)}function n(t){if(null==this)throw TypeError();var e=String(this),r=t?Number(t):0;if(isNaN(r)&&(r=0),r<0||r==1/0)throw RangeError();if(0==r)return"";for(var n="";r--;)n+=e;return n}function i(t){if(null==this)throw TypeError();var e=String(this),r=e.length,n=t?Number(t):0;if(isNaN(n)&&(n=0),!(n<0||n>=r)){var i,u=e.charCodeAt(n);return u>=55296&&u<=56319&&r>n+1&&(i=e.charCodeAt(n+1))>=56320&&i<=57343?1024*(u-55296)+i-56320+65536:u}}function u(t){var e=t.raw,r=e.length>>>0;if(0===r)return"";for(var n="",i=0;;){if(n+=e[i],i+1===r)return n;n+=arguments[++i]}}function s(t){var e,r,n=[],i=Math.floor,u=-1,s=arguments.length;if(!s)return"";for(;++u<s;){var o=Number(arguments[u]);if(!isFinite(o)||o<0||o>1114111||i(o)!=o)throw RangeError("Invalid code point: "+o);o<=65535?n.push(o):(e=55296+((o-=65536)>>10),r=o%1024+56320,n.push(e,r))}return String.fromCharCode.apply(null,n)}function o(){var t=c(this),e=String(t);return l(e)}function a(a){var c=a.String;d(c.prototype,["codePointAt",i,"endsWith",e,"includes",r,"repeat",n,"startsWith",t]),d(c,["fromCodePoint",s,"raw",u]),m(c.prototype,o,Symbol)}var c=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../checkObjectCoercible.js","traceur-runtime@0.0.111/src/runtime/polyfills/String.js")).default,l=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./StringIterator.js","traceur-runtime@0.0.111/src/runtime/polyfills/String.js")).createStringIterator,f=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./utils.js","traceur-runtime@0.0.111/src/runtime/polyfills/String.js")),d=f.maybeAddFunctions,m=f.maybeAddIterator,h=f.registerPolyfill,g=Object.prototype.toString,p=String.prototype.indexOf,v=String.prototype.lastIndexOf;return h(a),{get startsWith(){return t},get endsWith(){return e},get includes(){return r},get repeat(){return n},get codePointAt(){return i},get raw(){return u},get fromCodePoint(){return s},get stringPrototypeIterator(){return o},get polyfillString(){return a}}}),$traceurRuntime.getModule("traceur-runtime@0.0.111/src/runtime/polyfills/String.js"),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/polyfills/ArrayIterator.js",[],function(){"use strict";function t(t,e){var r=u(t),n=new f;return n.iteratorObject_=r,n.arrayIteratorNextIndex_=0,n.arrayIterationKind_=e,n}function e(){return t(this,l)}function r(){return t(this,a)}function n(){return t(this,c)}var i=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./utils.js","traceur-runtime@0.0.111/src/runtime/polyfills/ArrayIterator.js")),u=i.toObject,s=i.toUint32,o=i.createIteratorResultObject,a=1,c=2,l=3,f=function(){var t;return $traceurRuntime.createClass(function(){},(t={},Object.defineProperty(t,"next",{value:function(){var t=u(this),e=t.iteratorObject_;if(!e)throw new TypeError("Object is not an ArrayIterator");var r=t.arrayIteratorNextIndex_,n=t.arrayIterationKind_;return r>=s(e.length)?(t.arrayIteratorNextIndex_=1/0,o(void 0,!0)):(t.arrayIteratorNextIndex_=r+1,n==c?o(e[r],!1):n==l?o([r,e[r]],!1):o(r,!1))},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(t,Symbol.iterator,{value:function(){return this},configurable:!0,enumerable:!0,writable:!0}),t),{})}();return{get entries(){return e},get keys(){return r},get values(){return n}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/polyfills/Array.js",[],function(){"use strict";function t(t){var e,r,n=arguments[1],i=arguments[2],u=this,s=j(t),o=void 0!==n,a=0;if(o&&!m(n))throw TypeError();if(d(s)){e=h(u)?new u:[];var c=!0,l=!1,f=void 0;try{for(var g=void 0,p=s[Symbol.iterator]();!(c=(g=p.next()).done);c=!0){var v=g.value;e[a]=o?n.call(i,v,a):v,a++}}catch(t){l=!0,f=t}finally{try{c||null==p.return||p.return()}finally{if(l)throw f}}return e.length=a,e}for(r=b(s.length),e=h(u)?new u(r):new Array(r);a<r;a++)e[a]=o?void 0===i?n(s[a],a):n.call(i,s[a],a):s[a];return e.length=r,e}function e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=this,n=t.length,i=h(r)?new r(n):new Array(n),u=0;u<n;u++)i[u]=t[u];return i.length=n,i}function r(t){var e=void 0!==arguments[1]?arguments[1]:0,r=arguments[2],n=j(this),i=b(n.length),u=y(e),s=void 0!==r?y(r):i;for(u=u<0?Math.max(i+u,0):Math.min(u,i),s=s<0?Math.max(i+s,0):Math.min(s,i);u<s;)n[u]=t,u++;return n}function n(t){return u(this,t,arguments[1])}function i(t){return u(this,t,arguments[1],!0)}function u(t,e){var r=arguments[2],n=void 0!==arguments[3]&&arguments[3],i=j(t),u=b(i.length);if(!m(e))throw TypeError();for(var s=0;s<u;s++){var o=i[s];if(e.call(r,o,s,i))return n?s:o}return n?-1:void 0}function s(u){var s=u,o=s.Array,f=s.Object,d=s.Symbol,m=l;d&&d.iterator&&o.prototype[d.iterator]&&(m=o.prototype[d.iterator]),g(o.prototype,["entries",a,"keys",c,"values",m,"fill",r,"find",n,"findIndex",i]),g(o,["from",t,"of",e]),p(o.prototype,m,d),p(f.getPrototypeOf([].values()),function(){return this},d)}var o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./ArrayIterator.js","traceur-runtime@0.0.111/src/runtime/polyfills/Array.js")),a=o.entries,c=o.keys,l=o.values,f=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./utils.js","traceur-runtime@0.0.111/src/runtime/polyfills/Array.js")),d=f.checkIterable,m=f.isCallable,h=f.isConstructor,g=f.maybeAddFunctions,p=f.maybeAddIterator,v=f.registerPolyfill,y=f.toInteger,b=f.toLength,j=f.toObject;return v(s),{get from(){return t},get of(){return e},get fill(){return r},get find(){return n},get findIndex(){return i},get polyfillArray(){return s}}}),$traceurRuntime.getModule("traceur-runtime@0.0.111/src/runtime/polyfills/Array.js"),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/polyfills/assign.js",[],function(){"use strict";function t(t){for(var r=1;r<arguments.length;r++){var n=arguments[r],i=null==n?[]:e(n),u=void 0,s=i.length;for(u=0;u<s;u++){var o=i[u];t[o]=n[o]}}return t}var e=Object.keys;return{get default(){return t}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/polyfills/Object.js",[],function(){"use strict";function t(t,e){return t===e?0!==t||1/t==1/e:t!==t&&e!==e}function e(t,e){var r,n,i=l(e),u=i.length;for(r=0;r<u;r++){i[r];n=c(e,i[r]),a(t,i[r],n)}return t}function r(r){var n=r.Object;i(n,["assign",s,"is",t,"mixin",e])}var n=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./utils.js","traceur-runtime@0.0.111/src/runtime/polyfills/Object.js")),i=n.maybeAddFunctions,u=n.registerPolyfill,s=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./assign.js","traceur-runtime@0.0.111/src/runtime/polyfills/Object.js")).default,o=Object,a=o.defineProperty,c=o.getOwnPropertyDescriptor,l=o.getOwnPropertyNames;return u(r),{get assign(){return s},get is(){return t},get mixin(){return e},get polyfillObject(){return r}}}),$traceurRuntime.getModule("traceur-runtime@0.0.111/src/runtime/polyfills/Object.js"),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/polyfills/Number.js",[],function(){"use strict";function t(t){return s(t)&&d(t)}function e(e){return t(e)&&l(e)===e}function r(t){return s(t)&&m(t)}function n(e){if(t(e)){var r=l(e);if(r===e)return f(r)<=h}return!1}function i(i){var u=i.Number;o(u,["MAX_SAFE_INTEGER",h,"MIN_SAFE_INTEGER",g,"EPSILON",p]),a(u,["isFinite",t,"isInteger",e,"isNaN",r,"isSafeInteger",n])}var u=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./utils.js","traceur-runtime@0.0.111/src/runtime/polyfills/Number.js")),s=u.isNumber,o=u.maybeAddConsts,a=u.maybeAddFunctions,c=u.registerPolyfill,l=u.toInteger,f=Math.abs,d=isFinite,m=isNaN,h=Math.pow(2,53)-1,g=1-Math.pow(2,53),p=Math.pow(2,-52);return c(i),{get MAX_SAFE_INTEGER(){return h},get MIN_SAFE_INTEGER(){return g},get EPSILON(){return p},get isFinite(){return t},get isInteger(){return e},get isNaN(){return r},get isSafeInteger(){return n},get polyfillNumber(){return i}}}),$traceurRuntime.getModule("traceur-runtime@0.0.111/src/runtime/polyfills/Number.js"),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/polyfills/fround.js",[],function(){"use strict";function t(t,e,r){function n(t){var e=l(t),r=t-e;return r<.5?e:r>.5?e+1:e%2?e+1:e}var i,u,s,o,h,g,p,v=(1<<e-1)-1;for(t!==t?(u=(1<<e)-1,s=m(2,r-1),i=0):t===1/0||t===-1/0?(u=(1<<e)-1,s=0,i=t<0?1:0):0===t?(u=0,s=0,i=1/t==-1/0?1:0):(i=t<0,(t=c(t))>=m(2,1-v)?(u=d(l(f(t)/a),1023),(s=n(t/m(2,u)*m(2,r)))/m(2,r)>=2&&(u+=1,s=1),u>v?(u=(1<<e)-1,s=0):(u+=v,s-=m(2,r))):(u=0,s=n(t/m(2,1-v-r)))),h=[],o=r;o;o-=1)h.push(s%2?1:0),s=l(s/2);for(o=e;o;o-=1)h.push(u%2?1:0),u=l(u/2);for(h.push(i?1:0),h.reverse(),g=h.join(""),p=[];g.length;)p.push(parseInt(g.substring(0,8),2)),g=g.substring(8);return p}function e(t,e,r){var n,i,u,s,o,a,c,l,f=[];for(n=t.length;n;n-=1)for(u=t[n-1],i=8;i;i-=1)f.push(u%2?1:0),u>>=1;return f.reverse(),s=f.join(""),o=(1<<e-1)-1,a=parseInt(s.substring(0,1),2)?-1:1,c=parseInt(s.substring(1,1+e),2),l=parseInt(s.substring(1+e),2),c===(1<<e)-1?0!==l?NaN:a*(1/0):c>0?a*m(2,c-o)*(1+l/m(2,r)):0!==l?a*m(2,-(o-1))*(l/m(2,r)):a<0?-0:0}function r(t){return e(t,8,23)}function n(e){return t(e,8,23)}function i(t){return 0===t||!u(t)||s(t)?t:r(n(Number(t)))}var u=isFinite,s=isNaN,o=Math,a=o.LN2,c=o.abs,l=o.floor,f=o.log,d=o.min,m=o.pow;return{get fround(){return i}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/polyfills/Math.js",[],function(){"use strict";function t(t){if(0==(t=w(+t)))return 32;var e=0;return 0==(4294901760&t)&&(t<<=16,e+=16),0==(4278190080&t)&&(t<<=8,e+=8),0==(4026531840&t)&&(t<<=4,e+=4),0==(3221225472&t)&&(t<<=2,e+=2),0==(2147483648&t)&&(t<<=1,e+=1),e}function e(t,e){var r=65535&(t=w(+t)),n=65535&(e=w(+e));return r*n+((t>>>16&65535)*n+r*(e>>>16&65535)<<16>>>0)|0}function r(t){return(t=+t)>0?1:t<0?-1:t}function n(t){return.4342944819032518*P(t)}function i(t){return 1.4426950408889634*P(t)}function u(t){if((t=+t)<-1||M(t))return NaN;if(0===t||t===1/0)return t;if(-1===t)return-1/0;var e=0;if(t<0||t>1)return P(1+t);for(var r=1;r<50;r++)r%2==0?e-=N(t,r)/r:e+=N(t,r)/r;return e}function s(t){return(t=+t)==-1/0?-1:R(t)&&0!==t?O(t)-1:t}function o(t){return 0==(t=+t)?1:M(t)?NaN:R(t)?(t<0&&(t=-t),t>21?O(t)/2:(O(t)+O(-t))/2):1/0}function a(t){return t=+t,R(t)&&0!==t?(O(t)-O(-t))/2:t}function c(t){if(0==(t=+t))return t;if(!R(t))return r(t);var e=O(t),n=O(-t);return(e-n)/(e+n)}function l(t){return(t=+t)<1?NaN:R(t)?P(t+k(t+1)*k(t-1)):t}function f(t){return 0!=(t=+t)&&R(t)?t>0?P(t+k(t*t+1)):-P(-t+k(t*t+1)):t}function d(t){return-1==(t=+t)?-1/0:1===t?1/0:0===t?t:M(t)||t<-1||t>1?NaN:.5*P((1+t)/(1-t))}function m(t,e){for(var r=arguments.length,n=new Array(r),i=0,u=0;u<r;u++){if((a=+(a=arguments[u]))===1/0||a===-1/0)return 1/0;(a=x(a))>i&&(i=a),n[u]=a}0===i&&(i=1);for(var s=0,o=0,u=0;u<r;u++){var a=n[u]/i,c=a*a-o,l=s+c;o=l-s-c,s=l}return k(s)*i}function h(t){return(t=+t)>0?C(t):t<0?I(t):t}function g(t){if(0==(t=+t))return t;var e=t<0;e&&(t=-t);var r=N(t,1/3);return e?-r:r}function p(p){var y=p.Math;$(y,["acosh",l,"asinh",f,"atanh",d,"cbrt",g,"clz32",t,"cosh",o,"expm1",s,"fround",v,"hypot",m,"imul",e,"log10",n,"log1p",u,"log2",i,"sign",r,"sinh",a,"tanh",c,"trunc",h])}var v,y,b=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./fround.js","traceur-runtime@0.0.111/src/runtime/polyfills/Math.js")).fround,j=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./utils.js","traceur-runtime@0.0.111/src/runtime/polyfills/Math.js")),$=j.maybeAddFunctions,_=j.registerPolyfill,w=j.toUint32,R=isFinite,M=isNaN,S=Math,x=S.abs,I=S.ceil,O=S.exp,C=S.floor,P=S.log,N=S.pow,k=S.sqrt;return"function"==typeof Float32Array?(y=new Float32Array(1),v=function(t){return y[0]=Number(t),y[0]}):v=b,_(p),{get clz32(){return t},get imul(){return e},get sign(){return r},get log10(){return n},get log2(){return i},get log1p(){return u},get expm1(){return s},get cosh(){return o},get sinh(){return a},get tanh(){return c},get acosh(){return l},get asinh(){return f},get atanh(){return d},get hypot(){return m},get trunc(){return h},get fround(){return v},get cbrt(){return g},get polyfillMath(){return p}}}),$traceurRuntime.getModule("traceur-runtime@0.0.111/src/runtime/polyfills/Math.js"),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/polyfills/WeakMap.js",[],function(){"use strict";function t(t){var e=t,r=e.WeakMap;e.Symbol;if(!r||!p())return!0;try{var n={};return new r([[n,!1]]).get(n)}catch(t){return!1}}function e(e){t(e)&&(e.WeakMap=j)}var r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../private.js","traceur-runtime@0.0.111/src/runtime/polyfills/WeakMap.js")),n=r.createPrivateSymbol,i=r.deletePrivate,u=r.getPrivate,s=r.hasPrivate,o=r.setPrivate,a=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../frozen-data.js","traceur-runtime@0.0.111/src/runtime/polyfills/WeakMap.js")),c=a.deleteFrozen,l=a.getFrozen,f=a.hasFrozen,d=a.setFrozen,m=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./utils.js","traceur-runtime@0.0.111/src/runtime/polyfills/WeakMap.js")),h=m.isObject,g=m.registerPolyfill,p=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../has-native-symbols.js","traceur-runtime@0.0.111/src/runtime/polyfills/WeakMap.js")).default,v=Object,y=(v.defineProperty,v.getOwnPropertyDescriptor,v.isExtensible),b=TypeError,j=(Object.prototype.hasOwnProperty,function(){return $traceurRuntime.createClass(function(){this.name_=n(),this.frozenData_=[]},{set:function(t,e){if(!h(t))throw new b("key must be an object");return y(t)?o(t,this.name_,e):d(this.frozenData_,t,e),this},get:function(t){if(h(t))return y(t)?u(t,this.name_):l(this.frozenData_,t)},delete:function(t){return!!h(t)&&(y(t)?i(t,this.name_):c(this.frozenData_,t))},has:function(t){return!!h(t)&&(y(t)?s(t,this.name_):f(this.frozenData_,t))}},{})}());return g(e),{get WeakMap(){return j},get polyfillWeakMap(){return e}}}),$traceurRuntime.getModule("traceur-runtime@0.0.111/src/runtime/polyfills/WeakMap.js"),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/polyfills/WeakSet.js",[],function(){"use strict";function t(t){var e=t,r=e.WeakSet;e.Symbol;if(!r||!h())return!0;try{var n={};return!new r([[n]]).has(n)}catch(t){return!1}}function e(e){t(e)&&(e.WeakSet=y)}var r=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../private.js","traceur-runtime@0.0.111/src/runtime/polyfills/WeakSet.js")),n=r.createPrivateSymbol,i=r.deletePrivate,u=(r.getPrivate,r.hasPrivate),s=r.setPrivate,o=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../frozen-data.js","traceur-runtime@0.0.111/src/runtime/polyfills/WeakSet.js")),a=o.deleteFrozen,c=o.getFrozen,l=o.setFrozen,f=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./utils.js","traceur-runtime@0.0.111/src/runtime/polyfills/WeakSet.js")),d=f.isObject,m=f.registerPolyfill,h=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../has-native-symbols.js","traceur-runtime@0.0.111/src/runtime/polyfills/WeakSet.js")).default,g=Object,p=(g.defineProperty,g.isExtensible),v=TypeError,y=(Object.prototype.hasOwnProperty,function(){return $traceurRuntime.createClass(function(){this.name_=n(),this.frozenData_=[]},{add:function(t){if(!d(t))throw new v("value must be an object");return p(t)?s(t,this.name_,!0):l(this.frozenData_,t,t),this},delete:function(t){return!!d(t)&&(p(t)?i(t,this.name_):a(this.frozenData_,t))},has:function(t){return!!d(t)&&(p(t)?u(t,this.name_):c(this.frozenData_,t)===t)}},{})}());return m(e),{get WeakSet(){return y},get polyfillWeakSet(){return e}}}),$traceurRuntime.getModule("traceur-runtime@0.0.111/src/runtime/polyfills/WeakSet.js"),$traceurRuntime.registerModule("traceur-runtime@0.0.111/src/runtime/polyfills/polyfills.js",[],function(){"use strict";var t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./utils.js","traceur-runtime@0.0.111/src/runtime/polyfills/polyfills.js")).polyfillAll;t(Reflect.global);var e=$traceurRuntime.setupGlobals;return $traceurRuntime.setupGlobals=function(r){e(r),t(r)},{}}),$traceurRuntime.getModule("traceur-runtime@0.0.111/src/runtime/polyfills/polyfills.js");var $___46__46__47__46__46__47_es6_47_structuresAndClasses_46_js__=function(){"use strict";var t=null,e=function(){return $traceurRuntime.createClass(function(){return t||(t=this),this.prefix="id",this.nextId=0,t},{get unique(){for(var t=this.generate();$("#"+t).length;)this.nextId++,t=this.generate();return this.nextId++,t},generate:function(){return this.prefix+this.nextId}},{})}(),r=function(){return $traceurRuntime.createClass(function(t){this.map=new Map,this.default=t},{get size(){return this.map.size},clear:function(){return this.map.clear()},forEach:function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return(t=this.map).forEach.apply(t,$traceurRuntime.spread(e))},get:function(t){return this.map.get(t)},delete:function(t){return this.map.delete(t)},set:function(t,e){return this.map.set(t,e)},has:function(t){return this.map.has(t)},entries:function(){return this.map.entries()},keys:function(){return this.map.keys()},values:function(){return this.map.values()}},{})}();return{get Id(){return e},get MapWithDefaultValue(){return r}}}(),$___46__46__47__46__46__47_es6_47_svgObjects_46_js__=function(){"use strict";var t=$___46__46__47__46__46__47_es6_47_structuresAndClasses_46_js__,e=function(){return $traceurRuntime.createClass(function(e){this.tagName=e,this.$el=$("<"+this.tagName+">"),this.id=(new t.Id).unique},{addClass:function(t){this.$el.addClass(t)},removeClasses:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=!0,n=!1,i=void 0;try{for(var u=void 0,s=t[Symbol.iterator]();!(r=(u=s.next()).done);r=!0){var o=u.value;this.$el.removeClass(o)}}catch(t){n=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(n)throw i}}},addAttr:function(t){this.checkIfElementExistsInDOM(),this.$el.attr(t)},getAttr:function(t){return this.checkIfElementExistsInDOM(),this.$el.attr(t)},removeAttr:function(t){this.checkIfElementExistsInDOM(),this.$el.removeAttr(t)},set id(t){this.addAttr({id:t})},get id(){return this.getAttr("id")},get:function(){return this.checkIfElementExistsInDOM(),this.$el},checkIfElementExistsInDOM:function(){var t=$("#"+this.$el.attr("id"));t.length&&(this.$el=t)}},{})}(),r=function(t){function e(t){$traceurRuntime.superConstructor(e).call(this,t)}return $traceurRuntime.createClass(e,{draggable:function(t){this.addAttr({draggable:t})}},{},t)}(e),n=(function(t){function e(t){$traceurRuntime.superConstructor(e).call(this,t)}$traceurRuntime.createClass(e,{rotatable:function(t){this.addAttr({rotatable:t})}},{},t)}(e),function(t){function e(t){$traceurRuntime.superConstructor(e).call(this,t)}return $traceurRuntime.createClass(e,{rotatable:function(t){this.addAttr({rotatable:t})}},{},t)}(r)),i=function(t){function e(t,r,n,i,u){$traceurRuntime.superConstructor(e).call(this,u),this.addAttr({x:t,y:r,width:n,height:i})}return $traceurRuntime.createClass(e,{},{},t)}(n),u=function(t){function e(t,r,n,i,u,s){$traceurRuntime.superConstructor(e).call(this,t,r,n,i,"rect"),this.addAttr({fill:u,stroke:s,"stroke-width":.5,"pointer-events":"all"})}return $traceurRuntime.createClass(e,{},{},t)}(i),s=function(t){function e(t,r,n,i,u){$traceurRuntime.superConstructor(e).call(this,t,r,n,i,"image"),this.addAttr({"xlink:href":u})}return $traceurRuntime.createClass(e,{changeUrl:function(t){this.addAttr({"xlink:href":t})}},{},t)}(i),o=function(t){function e(){$traceurRuntime.superConstructor(e).call(this,"g")}return $traceurRuntime.createClass(e,{addChild:function(t){return this.$el.append(t.$el),t}},{},t)}(n),a=function(){function t(t,e){this.x=0,this.y=0,void 0!==t&&void 0!==e&&(this.x=t,this.y=e)}return $traceurRuntime.createClass(t,{set:function(t,e){this.x=t,this.y=e},get string(){return this.x+","+this.y}},{parseFromString:function(e){var r=e.split(",");return new t(r[0],r[1])},equals:function(t,e){return t.x===e.x&&t.y===e.y}})}(),c=function(t){function e(t){$traceurRuntime.superConstructor(e).call(this,t)}return $traceurRuntime.createClass(e,{copy:function(){return new e($.extend(!0,[],this.arr))},append:function(t){$traceurRuntime.superGet(this,e.prototype,"append").call(this,t);var r=this.length;return r>=3&&(this.getItem(r-3).x===this.getItem(r-2).x&&this.getItem(r-2).x===this.getItem(r-1).x||this.getItem(r-3).y===this.getItem(r-2).y&&this.getItem(r-2).y===this.getItem(r-1).y)&&this.remove(r-2),this},get string(){for(var t="",e=0;e<this.length;++e)0!==e&&(t+=" "),t+=this.arr[e].string;return t},forEach:function(t){for(var e=0;e<this.arr.length;++e)t(this.arr[e])}},{parseFromString:function(t){for(var r=t.split(" "),n=new e,i=0;i<r.length;++i)n.append(a.parseFromString(r[i]));return n}},t)}(function(){function t(t){this.arr=void 0!==t?t:[]}return $traceurRuntime.createClass(t,{copy:function(){return t($.extend(!0,[],this.arr))},append:function(t){return this.addWithIndex(t,this.arr.length)},prepend:function(t){return this.addWithIndex(t,0)},addWithIndex:function(t,e){for(var r=this.arr.length;r>e;--r)this.arr[r]=this.arr[r-1];return this.arr[e]=t,this},get length(){return this.arr.length},getItem:function(t){return this.arr[t]},get last(){return 0!==this.length&&this.arr[this.length-1]},get first(){return 0!==this.length&&this.arr[0]},remove:function(t){for(var e=this.length,r=t;r<e;++r)this.arr[r]=this.arr[r+1];this.arr.pop()}},{})}()),l=function(t){function e(t,r,n){$traceurRuntime.superConstructor(e).call(this,"polyline"),this.addAttr({points:t.string,stroke:r,fill:"none","stroke-width":n})}return $traceurRuntime.createClass(e,{updatePoints:function(t){this.addAttr({points:t.string})}},{},t)}(e),f=function(t){function e(t,r,n){$traceurRuntime.superConstructor(e).call(this,"pattern"),this.addAttr({id:t,x:0,y:0,width:r,height:n,patternUnits:"userSpaceOnUse",viewBox:"0 0 "+r+" "+n})}return $traceurRuntime.createClass(e,{addChild:function(t){return this.$el.append(t.$el),t}},{},t)}(e);return{get Rectangle(){return u},get SvgImage(){return s},get Group(){return o},get PolylinePoint(){return a},get PolylinePoints(){return c},get PolyLine(){return l},get Pattern(){return f}}}(),$___46__46__47__46__46__47_es6_47_logic_46_js__=function(){"use strict";var t=function(){function t(){}return $traceurRuntime.createClass(t,{},{and:function(e,r){return t.testLogicRulesSymmetric(e,r,[[t.state.on,t.state.on,t.state.on],[t.state.on,t.state.off,t.state.off],[t.state.on,t.state.unknown,t.state.unknown],[t.state.on,t.state.oscillating,t.state.oscillating],[t.state.off,t.state.off,t.state.off],[t.state.off,t.state.unknown,t.state.off],[t.state.off,t.state.oscillating,t.state.off],[t.state.unknown,t.state.unknown,t.state.unknown],[t.state.unknown,t.state.oscillating,t.state.unknown],[t.state.oscillating,t.state.oscillating,t.state.oscillating]])},nand:function(e,r){return t.not(t.and(e,r))},nor:function(e,r){return t.not(t.or(e,r))},not:function(e){return e===t.state.on?t.state.off:e===t.state.off?t.state.on:e},or:function(e,r){return t.testLogicRulesSymmetric(e,r,[[t.state.on,t.state.on,t.state.on],[t.state.on,t.state.off,t.state.on],[t.state.on,t.state.unknown,t.state.on],[t.state.on,t.state.oscillating,t.state.on],[t.state.off,t.state.off,t.state.off],[t.state.off,t.state.unknown,t.state.unknown],[t.state.off,t.state.oscillating,t.state.oscillating],[t.state.unknown,t.state.unknown,t.state.unknown],[t.state.unknown,t.state.oscillating,t.state.unknown],[t.state.oscillating,t.state.oscillating,t.state.oscillating]])},xnor:function(e,r){return t.not(t.xor(e,r))},xor:function(e,r){return t.testLogicRulesSymmetric(e,r,[[t.state.on,t.state.on,t.state.off],[t.state.on,t.state.off,t.state.on],[t.state.on,t.state.unknown,t.state.unknown],[t.state.on,t.state.oscillating,t.state.oscillating],[t.state.off,t.state.off,t.state.off],[t.state.off,t.state.unknown,t.state.unknown],[t.state.off,t.state.oscillating,t.state.oscillating],[t.state.unknown,t.state.unknown,t.state.unknown],[t.state.unknown,t.state.oscillating,t.state.unknown],[t.state.oscillating,t.state.oscillating,t.state.oscillating]])},get state(){return{unknown:0,on:1,off:2,oscillating:3}},testLogicRulesSymmetric:function(t,e,r){for(var n=0;n<r.length;n++)if(r[n][0]===t&&r[n][1]===e||r[n][0]===e&&r[n][1]===t)return r[n][2]}})}();return{get default(){return t}}}(),$___46__46__47__46__46__47_es6_47_editorElements_46_js__=function(){"use strict";var t=$___46__46__47__46__46__47_es6_47_svgObjects_46_js__,e=$___46__46__47__46__46__47_es6_47_structuresAndClasses_46_js__,r=$___46__46__47__46__46__47_es6_47_logic_46_js__.default,n={on:"stateOn",off:"stateOff",unknown:"stateUnknown",oscillating:"stateOscillating"},i=function(){return $traceurRuntime.createClass(function(t){void 0!==t&&(this.name=t.replace(/^[ ]*([^(]+).*/,"$1"),this.args=t.replace(/^[^(]+\((.*)\)/,"$1").split(" "))},{setName:function(t){this.name=t},setArguments:function(t){this.args=t},get:function(){return this.name+"("+this.args.join(" ")+")"}},{})}(),u=function(){return $traceurRuntime.createClass(function(t){if(this.items=[],void 0!==t)for(var e=t.split(")"),r=0;r<e.length;r++)e[r]&&this.items.push(new i(e[r]+")"))},{getIndex:function(t){for(var e=0;e<this.items.length;e++)if(t===this.items[e].name)return e;return-1},getTranslate:function(){var t=this.getArguments(this.getIndex("translate"));return{x:t[0],y:t[1]}},getRotate:function(){var t=this.getArguments(this.getIndex("rotate"));return{deg:t[0],centreX:t[1],centreY:t[2]}},setTranslate:function(t,e){this.setParameter("translate",[t,e])},setRotate:function(t,e,r){this.setParameter("rotate",[t,e,r])},rotateRight:function(t,e){if(-1===this.getIndex("rotate"))this.setRotate(90,t,e);else{var r=(parseInt(this.getRotate().deg)+90)%360;if(180===r){var n=t;t=e,e=n}this.setRotate(r,t,e)}},get:function(){for(var t="",e=0;e<this.items.length;e++)0!==e&&(t+=" "),t+=this.items[e].get();return t},getArguments:function(t){return this.items[t].args},setParameter:function(t,e){var r=this.getIndex(t);-1===r&&(r=this.items.length,this.items[r]=new i,this.items[r].setName(t)),this.items[r].setArguments(e)}},{})}(),s=function(){return $traceurRuntime.createClass(function(t){t||console.error("Parent SVG element has not been defined."),this.parentSVG=t,this.svgObj=void 0},{onMouseDown:function(){},onMouseUp:function(){},onMouseMove:function(){}},{})}(),o=function(e){function i(e,u,s,o){$traceurRuntime.superConstructor(i).call(this,e),this.gridSize=u,this.connectorSize=u,this.connectorOffset=this.connectorSize/2,this.svgObj=new t.Rectangle(s*this.gridSize-this.connectorOffset,o*this.gridSize-this.connectorOffset,this.connectorSize,this.connectorSize,"none","black"),this.svgObj.$el.addClass("connector"),this.stateAttr=!1,this.isInputConnector=!1,this.stateAttr=r.state.unknown,this.svgObj.addClass(n.unknown),this.wireIds=new Set}return $traceurRuntime.createClass(i,{addWireId:function(t){this.wireIds.add(t)},removeWireId:function(t){this.wireIds.delete(t)},removeWireIdAndUpdate:function(t){this.removeWireId(t)},setState:function(t,e){switch(this.svgObj.removeClasses(n.on,n.off,n.unknown,n.oscillating),t){case r.state.unknown:this.svgObj.addClass(n.unknown);break;case r.state.on:this.svgObj.addClass(n.on);break;case r.state.off:this.svgObj.addClass(n.off);break;case r.state.oscillating:this.svgObj.addClass(n.oscillating)}this.stateAttr=t},get state(){return this.stateAttr},get:function(){return this.svgObj},onMouseUp:function(){this.parentSVG.wireCreationHelper(this.svgObj.id)}},{},e)}(s),a=function(t){function e(t,r,n,i){$traceurRuntime.superConstructor(e).call(this,t,r,n,i),this.isInputConnector=!0}return $traceurRuntime.createClass(e,{setState:function(t,r){var n=this.parentSVG.loopGuard(r,this.svgObj.id,t);$traceurRuntime.superGet(this,e.prototype,"setState").call(this,n.state,r),!1===n.stopPropagation&&this.parentSVG.getBoxByConnectorId(this.svgObj.id).refreshState(r)},removeWireIdAndUpdate:function(t){$traceurRuntime.superGet(this,e.prototype,"removeWireIdAndUpdate").call(this,t),this.setState(r.state.unknown,this.parentSVG.getNewPropagationId())},get state(){return $traceurRuntime.superGet(this,e.prototype,"state")}},{},t)}(o),c=function(t){function e(t,r,n,i){$traceurRuntime.superConstructor(e).call(this,t,r,n,i),this.isOutput=!0}return $traceurRuntime.createClass(e,{setState:function(t,r){var n=this,i=this.parentSVG.loopGuard(r,this.svgObj.id,t);$traceurRuntime.superGet(this,e.prototype,"setState").call(this,i.state,r),!1===i.stopPropagation&&this.wireIds.forEach(function(e){n.parentSVG.getWireById(e).setState(t,r)})},get state(){return $traceurRuntime.superGet(this,e.prototype,"state")}},{},t)}(o),l=function(e){function r(e,n,i,u,s){$traceurRuntime.superConstructor(r).call(this,e),this.name=n,this.category=i,this.gridSize=this.parentSVG.gridSize,this.url="img/"+this.category+"/"+this.name+".svg",this.inputs=[],this.outputs=[],this.svgObj=new t.Group,this.width=u*this.gridSize,this.height=s*this.gridSize,this.gridWidth=u,this.gridHeight=s;var o=new t.Rectangle(0,0,this.width,this.height,"none","none");o.$el.addClass("rect"),this.svgObj.addChild(o),this.image=new t.SvgImage(0,0,this.width,this.height,this.url),this.svgObj.addChild(this.image),this.svgObj.draggable(!0),this.svgObj.rotatable(!0),this.svgObj.addAttr({type:i}),this.svgObj.$el.addClass("box"),this.svgObj.$el.addClass(i),this.generateBlockNodes()}return $traceurRuntime.createClass(r,{generateBlockNodes:function(){for(var t=void 0!==arguments[0]?arguments[0]:0,e=void 0!==arguments[1]?arguments[1]:0,r=void 0!==arguments[2]?arguments[2]:0,n=void 0!==arguments[3]?arguments[3]:0,i=[],u=4;u<arguments.length;u++)i[u-4]=arguments[u];this.blockedNodes=new Set;for(var s=n;s<=this.gridWidth-e;s++)for(var o=t;o<=this.gridHeight-r;o++)this.blockedNodes.add({x:s,y:o});var a=!0,c=!1,l=void 0;try{for(var f=void 0,d=i[Symbol.iterator]();!(a=(f=d.next()).done);a=!0){var m=f.value;this.blockedNodes.add(m)}}catch(t){c=!0,l=t}finally{try{a||null==d.return||d.return()}finally{if(c)throw l}}},refreshState:function(){console.warn("Calling the virtual function refreshState has no effect.")},changeImage:function(t){t=void 0===t||""===t?"":"-"+t,this.url="img/"+this.category+"/"+this.name+t+".svg",this.image.changeUrl(this.url)},get:function(){return this.svgObj.get()},removeBlockedNode:function(t,e){var r=!0,n=!1,i=void 0;try{for(var u=void 0,s=this.blockedNodes[Symbol.iterator]();!(r=(u=s.next()).done);r=!0){var o=u.value;if(o.x===t&&o.y===e){this.blockedNodes.delete(o);break}}}catch(t){n=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(n)throw i}}},rotateBlockedNodesRight:function(){var t=this;if(void 0!==this.rotation&&4!==this.rotation||(this.rotation=0),this.rotation++,1===this.rotation||3===this.rotation){var e=new Set;this.blockedNodes.forEach(function(r){e.add({x:Math.abs(r.y-t.gridHeight),y:r.x})}),this.blockedNodes=e}else if(2===this.rotation||4===this.rotation){var r=new Set;this.blockedNodes.forEach(function(e){r.add({x:Math.abs(e.y-t.gridWidth),y:e.x})}),this.blockedNodes=r}},addInput:function(t,e){var r=this.inputs.length;this.inputs[r]=new a(this.parentSVG,this.gridSize,t,e),this.inputs[r].svgObj.addAttr({gateid:this.svgObj.id}),this.svgObj.addChild(this.inputs[r].get()),this.removeBlockedNode(t,e)},addOutput:function(t,e){var r=this.outputs.length;this.outputs[r]=new c(this.parentSVG,this.gridSize,t,e),this.outputs[r].svgObj.addAttr({gateid:this.svgObj.id}),this.svgObj.addChild(this.outputs[r].get()),this.removeBlockedNode(t,e)},getConnectorById:function(t){for(var e=0;e<this.inputs.length;e++)if(this.inputs[e].svgObj.id===t)return this.inputs[e];for(var r=0;r<this.outputs.length;r++)if(this.outputs[r].svgObj.id===t)return this.outputs[r]},getTransform:function(){var t;return this.svgObj.$el.attr("transform")?t=new u(this.svgObj.$el.attr("transform")):((t=new u).setTranslate(0,0),this.svgObj.addAttr({transform:t.get()})),t},setTransform:function(t){this.svgObj.addAttr({transform:t.get()})},onMouseDown:function(t){this.mouseLeft=!1,1===t.which&&(this.mouseLeft=!0,this.onMouseDownLeft(t),this.parentSVG.moveToFrontById(this.svgObj.id))},onMouseDownLeft:function(t){this.mouseMoved=!1;var e=this.getTransform().getTranslate();this.offset={x:t.pageX-e.x,y:t.pageY-e.y}},onMouseMove:function(t){if(this.mouseLeft){this.mouseMoved=!0;var e=t.pageX-this.offset.x,r=t.pageY-this.offset.y,n=this.getTransform();n.setTranslate(e,r),this.setTransform(n),this.updateWires(!0)}},onMouseUp:function(t){1===t.which?this.mouseMoved?this.onDrop(t):this.onClick():2===t.which&&this.onClickMiddle()},onDrop:function(t){var e=t.pageX-this.offset.x,r=t.pageY-this.offset.y;e=this.parentSVG.snapToGrid(e),r=this.parentSVG.snapToGrid(r);var n=this.getTransform();n.setTranslate(e,r),this.setTransform(n),this.updateWires()},onClick:function(){},onClickMiddle:function(){var t=this.getTransform(),e=this.svgObj.$el[0].getBoundingClientRect(),r=Math.round(e.width/2),n=Math.round(e.height/2);r-=r%this.gridSize,n-=n%this.gridSize,t.rotateRight(r,n),this.svgObj.addAttr({transform:t.get()}),this.rotateBlockedNodesRight(),this.updateWires()},updateWires:function(){for(var t=void 0!==arguments[0]&&arguments[0],e=this,r=this.inputs.concat(this.outputs),n=0;n<r.length;++n)r[n].wireIds.forEach(function(r){var n=e.parentSVG.getWireById(r);t?n.temporaryWire():n.routeWire()})}},{},e)}(s),f=function(t){function e(t){$traceurRuntime.superConstructor(e).call(this,t,"input","io",7,4),this.addOutput(7,2),this.outputs[0].setState(r.state.off,this.parentSVG.getNewPropagationId()),this.isOn=!1}return $traceurRuntime.createClass(e,{generateBlockNodes:function(){$traceurRuntime.superGet(this,e.prototype,"generateBlockNodes").call(this,0,1,1,0)},refreshState:function(){var t=this.outputs[0].state;this.outputs[0].setState(t,this.parentSVG.getNewPropagationId())},set on(t){var e=this.parentSVG.getNewPropagationId();t?(this.changeImage("on"),this.outputs[0].setState(r.state.on,e)):(this.changeImage(),this.outputs[0].setState(r.state.off,e)),this.isOn=t},get on(){return this.isOn},onClick:function(){this.on=!this.on}},{},t)}(l),d=function(t){function e(t){$traceurRuntime.superConstructor(e).call(this,t,"output","io",5,4),this.addInput(0,2)}return $traceurRuntime.createClass(e,{refreshState:function(){this.setState(this.inputs[0].state)},setState:function(t){switch(t){case r.state.on:this.changeImage("on");break;case r.state.off:this.changeImage("off");break;case r.state.unknown:this.changeImage();break;case r.state.oscillating:this.changeImage("osc")}},generateBlockNodes:function(){$traceurRuntime.superGet(this,e.prototype,"generateBlockNodes").call(this,0,0,0,1)}},{},t)}(l),m=function(t){function e(t,r){$traceurRuntime.superConstructor(e).call(this,t,r,"gate",9,4),"not"===this.name?this.addInput(0,2):(this.addInput(0,1),this.addInput(0,3),this.generateBlockNodes({x:0,y:2})),this.addOutput(9,2),this.refreshState(this.parentSVG.getNewPropagationId())}return $traceurRuntime.createClass(e,{generateBlockNodes:function(t){void 0!==t?$traceurRuntime.superGet(this,e.prototype,"generateBlockNodes").call(this,0,1,0,1,t):$traceurRuntime.superGet(this,e.prototype,"generateBlockNodes").call(this,0,1,0,1)},refreshState:function(t){switch(void 0===t&&console.error("refreshState error: propagationId cannot be undefined"),this.name){case"and":this.outputs[0].setState(r.and(this.inputs[0].state,this.inputs[1].state),t);break;case"nand":this.outputs[0].setState(r.nand(this.inputs[0].state,this.inputs[1].state),t);break;case"nor":this.outputs[0].setState(r.nor(this.inputs[0].state,this.inputs[1].state),t);break;case"not":this.outputs[0].setState(r.not(this.inputs[0].state),t);break;case"or":this.outputs[0].setState(r.or(this.inputs[0].state,this.inputs[1].state),t);break;case"xnor":this.outputs[0].setState(r.xnor(this.inputs[0].state,this.inputs[1].state),t);break;case"xor":this.outputs[0].setState(r.xor(this.inputs[0].state,this.inputs[1].state),t)}}},{},t)}(l),h=function(i){function u(t,e,i,s){$traceurRuntime.superConstructor(u).call(this,t),this.gridSize=s,this.fromId=e,this.toId=i,this.startBox=this.parentSVG.getBoxByConnectorId(e),this.endBox=this.parentSVG.getBoxByConnectorId(i),this.startConnector=this.parentSVG.getConnectorById(e),this.endConnector=this.parentSVG.getConnectorById(i),this.routeWire(),this.stateAttr=r.state.unknown,this.startConnector.isOutput?this.setState(this.startConnector.state,this.parentSVG.getNewPropagationId()):this.endConnector.isOutput?this.setState(this.endConnector.state,this.parentSVG.getNewPropagationId()):this.svgObj.addClass(n.unknown),this.svgObj.$el.addClass("wire")}return $traceurRuntime.createClass(u,{setState:function(t,e){switch(this.svgObj.removeClasses(n.on,n.off,n.unknown,n.oscillating),t){case r.state.unknown:this.svgObj.addClass(n.unknown);break;case r.state.on:this.svgObj.addClass(n.on);break;case r.state.off:this.svgObj.addClass(n.off);break;case r.state.oscillating:this.svgObj.addClass(n.oscillating)}this.startConnector.isInputConnector&&this.startConnector.setState(t,e),this.endConnector.isInputConnector&&this.endConnector.setState(t,e),this.stateAttr=t},get state(){return this.stateAttr},updateWireState:function(){this.startBox.refreshState(this.parentSVG.getNewPropagationId()),this.endBox.refreshState(this.parentSVG.getNewPropagationId())},get:function(){return this.svgObj.get()},getTemporaryWirePoints:function(){var e=new t.PolylinePoints;return e.append(new t.PolylinePoint(this.wireStart.x,this.wireStart.y)),e.append(new t.PolylinePoint(this.wireEnd.x,this.wireEnd.y)),e},temporaryWire:function(){this.wireStart=this.getCoordinates(this.startConnector,!1),this.wireEnd=this.getCoordinates(this.endConnector,!1),this.setWirePath(this.getTemporaryWirePoints())},routeWire:function(){var t=void 0===arguments[0]||arguments[0];this.wireStart=this.getCoordinates(this.startConnector,t),this.wireEnd=this.getCoordinates(this.endConnector,t),this.points=this.aStar({x:this.wireStart.x/this.gridSize,y:this.wireStart.y/this.gridSize},{x:this.wireEnd.x/this.gridSize,y:this.wireEnd.y/this.gridSize}),this.setWirePath(this.points),this.updateWireState()},setWirePath:function(e){void 0!==this.svgObj?this.svgObj.updatePoints(e):this.svgObj=new t.PolyLine(e,"#8b8b8b",2),this.svgObj.removeClasses(n.on,n.off,n.unknown,n.oscillating),this.svgObj.addClass(n.unknown),this.svgObj.addAttr({fromId:this.fromId,toId:this.toId})},aStar:function(r,n){var i=new Set,s=new Set;s.add(r);var o=new Map,a=new e.MapWithDefaultValue(1/0);a.set(r,0);var c=new e.MapWithDefaultValue(1/0);c.set(r,u.manhattanDistance(r,n));var l,f=this.parentSVG.getNonRoutableNodes();l=void 0===this.svgObj?this.parentSVG.getInconvenientNodes():this.parentSVG.getInconvenientNodes(this.svgObj.id);var m,d=this;t:for(;s.size>0;)switch(m=function(){var e,r;if(s.forEach(function(t){(!e||c.get(t)<r)&&(e=t,r=c.get(e))}),t.PolylinePoint.equals(e,n))return{v:d.reconstructPath(o,e)};s.delete(e),i.add(e);for(var m=0;m<4;m++)for(var h=u.movePoint(e,m),g=0;g<50&&!u.setHasThisPoint(f,d.scalePointToGrid(h));g++)if(!i.has(h)){s.has(h).y||s.add(h);var p=1;0!==g&&(p=2);var v=a.get(e)+p;if(u.setHasThisPoint(l,d.scalePointToGrid(h))&&(v+=1),!(v>=a.get(h))){if(o.set(h,e),a.set(h,v),c.set(h,v+u.manhattanDistance(h,n)),u.setHasThisPoint(l,d.scalePointToGrid(h)))break;h=u.movePoint(h,m)}}return s.size>5e4?0:void 0}()){case 0:break t;default:if("object"===(void 0===m?"undefined":$traceurRuntime.typeof(m)))return m.v}return this.getTemporaryWirePoints()},scalePointToGrid:function(t){return{x:t.x*this.gridSize,y:t.y*this.gridSize}},reconstructPath:function(e,r){var n=new t.PolylinePoints;for(n.append(new t.PolylinePoint(r.x*this.gridSize,r.y*this.gridSize));e.has(r);)r=e.get(r),n.append(new t.PolylinePoint(r.x*this.gridSize,r.y*this.gridSize));return n},getCoordinates:function(t){var e=void 0===arguments[1]||arguments[1],r=(t.svgObj.id,t.svgObj.$el),n=r.position(),i=r.attr("width"),u=r.attr("height"),s=n.left+i/2,o=n.top+u/2;return e&&(s=this.parentSVG.snapToGrid(s),o=this.parentSVG.snapToGrid(o)),{x:s,y:o}}},{movePoint:function(t,e){switch(e){case 0:return{x:t.x,y:t.y-1};case 1:return{x:t.x+1,y:t.y};case 2:return{x:t.x,y:t.y+1};case 3:return{x:t.x-1,y:t.y}}},manhattanDistance:function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},setHasThisPoint:function(t,e){var r=!0,n=!1,i=void 0;try{for(var u=void 0,s=t[Symbol.iterator]();!(r=(u=s.next()).done);r=!0){var o=u.value;if(o.x===e.x&&o.y===e.y)return!0}}catch(t){n=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(n)throw i}}return!1}},i)}(s);return{get Transform(){return u},get InputConnector(){return a},get OutputConnector(){return c},get InputBox(){return f},get OutputBox(){return d},get Gate(){return m},get Wire(){return h}}}(),$___46__46__47__46__46__47_es6_47_contextMenu_46_js__=function(){"use strict";var t=function(){return $traceurRuntime.createClass(function(t,e,r,n,i){this.name=t,this.type=e,this.contextMenu=r,this.parentSVG=n,this.$el=$("<li>"),$(this.$el).text(t).attr("type",e),i&&$(this.$el).click(function(t){i(t),r.hide()})},{addClass:function(t){return this.$el.addClass(t),this},appendItem:function(t){return this.subList||(this.subList=$("<ul>"),this.$el.append(this.subList)),this.subList.append(t.jQuery),t},get jQuery(){return this.$el}},{})}(),e=function(t){function e(t,r,n){$traceurRuntime.superConstructor(e).call(this,t,t,r,n,function(e){var i={left:Math.round(r.position.x/n.gridSize)*n.gridSize,top:Math.round(r.position.y/n.gridSize)*n.gridSize};n.newGate(t,i.left,i.top)})}return $traceurRuntime.createClass(e,{},{},t)}(t),r=function(){return $traceurRuntime.createClass(function(r){var n=this;this.parentSVG=r;var i=["not","and","or","nand","nor","xor","xnor"];this.position={x:0,y:0},this.$el=$("<ul>"),this.$el.attr("id","contextMenu");for(var u=new t("New gate","",this,r),s=0;s<i.length;++s)u.appendItem(new e(i[s],this,r));this.appendItem(u),this.appendItem(new t("Input box","",this,r,function(){var t={left:n.parentSVG.snapToGrid(n.position.x),top:n.parentSVG.snapToGrid(n.position.y)};r.newInput(t.left,t.top)})),this.appendItem(new t("Output box","",this,r,function(){var t={left:n.parentSVG.snapToGrid(n.position.x),top:n.parentSVG.snapToGrid(n.position.y)};r.newOutput(t.left,t.top)})),this.appendConditionalItem("box","Remove this item",function(t){n.parentSVG.removeBox(t)}),this.appendConditionalItem("wire","Remove this wire",function(t){n.parentSVG.removeWireById(t)}),r.$svg.before(this.$el)},{appendItem:function(t){return this.$el.append(t.jQuery),t},appendConditionalItem:function(t,e,r){this.conditionalItems||(this.conditionalItems=[]),this.conditionalItems[this.conditionalItems.length]={itemClass:t,text:e,clickFunction:r}},resolveConditionalItems:function(e){for(var r=this,n=this,i=0;i<this.conditionalItems.length;++i)!function(i){e.hasClass(n.conditionalItems[i].itemClass)&&n.appendItem(new t(n.conditionalItems[i].text,"",n,n.parentSVG,function(){r.conditionalItems[i].clickFunction(e.attr("id"))})).addClass("conditional")}(i)},hideAllConditionalItems:function(){this.$el.children(".conditional").remove()},display:function(t,e,r){this.position={x:t,y:e},this.$el.css({display:"block",top:e+"px",left:t+"px"}),this.resolveConditionalItems(r)},hide:function(){this.$el.css({display:"none"}),this.hideAllConditionalItems()}},{})}();return{get default(){return r}}}(),$___46__46__47__46__46__47_es6_47_floatingMenu_46_js__=function(){"use strict";var t=function(){return $traceurRuntime.createClass(function(){this.$el=$("<div>")},{},{})}(),e=function(t){function e(t){$traceurRuntime.superConstructor(e).call(this),this.$el.addClass("helpWindowItem"),this.$el.html(t)}return $traceurRuntime.createClass(e,{},{},t)}(t),r=function(t){function r(){$traceurRuntime.superConstructor(r).call(this),this.$el.attr("id","help"),this.append(new e("<strong>main menu</strong>: right click")),this.append(new e("drag and drop to <strong>move elements</strong>")),this.append(new e("<strong>middle click</strong> to rotate elements"))}return $traceurRuntime.createClass(r,{append:function(t){this.$el.append(t.$el)}},{},t)}(t),n=function(t){function e(t,r,n){$traceurRuntime.superConstructor(e).call(this),this.$el.addClass("button"),this.$el.addClass(t);var i=$("<img>");i.attr("src","img/gui/"+r+".svg"),i.attr("alt",n),i.attr("title",n),this.$el.append(i)}return $traceurRuntime.createClass(e,{},{},t)}(t),i=function(t){function e(t){$traceurRuntime.superConstructor(e).call(this);this.$el.attr("id","floatingMenu");var i=new n("help","help","Display help");i.$el.on("mouseover",function(){$("#help").addClass("visible")}).on("mouseout",function(){$("#help").removeClass("visible")}),this.append(i),t.$svg.after(this.$el),t.$svg.after((new r).$el)}return $traceurRuntime.createClass(e,{append:function(t){this.$el.append(t.$el)}},{},t)}(t);return{get default(){return i}}}(),$___46__46__47__46__46__47_es6_47_canvas_46_js__=function(){"use strict";var t=$___46__46__47__46__46__47_es6_47_svgObjects_46_js__,e=$___46__46__47__46__46__47_es6_47_editorElements_46_js__,r=$___46__46__47__46__46__47_es6_47_logic_46_js__.default,n=$___46__46__47__46__46__47_es6_47_contextMenu_46_js__.default,i=$___46__46__47__46__46__47_es6_47_floatingMenu_46_js__.default,u=function(){return $traceurRuntime.createClass(function(e,r){var u=this;this.$svg=$(e),this.gridSize=r,this.boxes=[],this.wires=[],this.$defs=$("<defs>"),this.$svg.prepend(this.$defs);var s=new t.Pattern("grid",this.gridSize,this.gridSize),o=(new t.PolylinePoints).append(new t.PolylinePoint(0,0)).append(new t.PolylinePoint(this.gridSize,0)).append(new t.PolylinePoint(this.gridSize,this.gridSize));s.addChild(new t.PolyLine(o,"#a3a4d2",2)),this.addPattern(s.get()),this.background=new t.Rectangle(0,0,"100%","100%","url(#grid)","none"),this.appendJQueryObject(this.background.get()),this.refresh(),this.contextMenu=new n(this),this.floatingMenu=new i(this);var a;this.$svg.on("mousedown",function(t){void 0!==(a=u.getRealTarget(t.target))&&a.onMouseDown(t),u.hideContextMenu(),t.preventDefault()}).on("mousemove",function(t){void 0!==a&&a.onMouseMove(t),t.preventDefault()}).on("mouseup",function(t){void 0!==a&&a.onMouseUp(t),a=void 0,t.preventDefault()}).on("contextmenu",function(t){u.displayContextMenu(t.pageX,t.pageY,u.getRealJQueryTarget(t.target)),t.preventDefault()})},{wireCreationHelper:function(t){this.firstConnectorId?(this.newWire(this.firstConnectorId,t),this.firstConnectorId=void 0):this.firstConnectorId=t},getNewPropagationId:function(){return this.propagationHistory=new Map,void 0===this.propId?this.propId=1:this.propId++,this.propId},loopGuard:function(t,e,n){if(t===this.propId)if(this.propagationHistory.has(e)){for(var i=this.propagationHistory.get(e),u=!1,s=0;s<i.length;++s)if(i[s]===n){u=!0;break}var o=i[i.length-1];if(i[i.length]=n,this.propagationHistory.set(e,i),u)return o!==n?{stopPropagation:!1,state:r.state.oscillating}:{stopPropagation:!0,state:n}}else this.propagationHistory.set(e,[n]);else this.propagationHistory=new Map;return{stopPropagation:!1,state:n}},newGate:function(t,r,n){return this.newBox(r,n,new e.Gate(this,t,r,n))},newInput:function(t,r){return this.newBox(t,r,new e.InputBox(this))},newOutput:function(t,r){return this.newBox(t,r,new e.OutputBox(this))},newBox:function(t,r,n){var i=this.boxes.length;if(this.boxes[i]=n,t&&r){var u=new e.Transform;u.setTranslate(t,r),this.boxes[i].svgObj.addAttr({transform:u.get()})}return this.appendElement(this.boxes[i]),this.boxes[i]},removeBox:function(t){for(var e=$("#"+t),r=-1,n=0;n<this.boxes.length;n++)if(this.boxes[n].svgObj.id===t){r=n;break}if(r>-1){for(var i=0;i<this.boxes[r].inputs.length;i++)this.removeWiresByConnectorId(this.boxes[r].inputs[i].svgObj.id);for(var u=0;u<this.boxes[r].outputs.length;u++)this.removeWiresByConnectorId(this.boxes[r].outputs[u].svgObj.id);this.boxes.splice(r,1),e.remove()}else console.error("Trying to remove an nonexisting gate. (Gate id: "+t+")")},newWire:function(t,r){if(t===r)return!1;this.fromId=t,this.toId=r;var n=this.getConnectorById(t),i=this.getConnectorById(r);n.isInputConnector&&this.removeWiresByConnectorId(t),i.isInputConnector&&this.removeWiresByConnectorId(r);var u=this.wires.length;return this.wires[u]=new e.Wire(this,t,r,this.gridSize),n.addWireId(this.wires[u].svgObj.id),i.addWireId(this.wires[u].svgObj.id),this.appendElement(this.wires[u]),this.moveToBackById(this.wires[u].svgObj.id),this.wires[u]},getWireById:function(t){for(var e=this.wires.length,r=0;r<e;r++)if(this.wires[r].svgObj.id===t)return this.wires[r];return!1},getWiresByConnectorId:function(t){return this.getConnectorById(t).wireIds},removeWireById:function(t){for(var e=0;e<this.wires.length;++e)if(this.wires[e].svgObj.id===t){var r=this.wires[e].startConnector,n=this.wires[e].endConnector;r.removeWireIdAndUpdate(t),n.removeWireIdAndUpdate(t),this.wires[e].svgObj.$el.remove(),this.wires.splice(e,1);break}},removeWiresByConnectorId:function(t){var e=this,n=this.getConnectorById(t);n.wireIds.forEach(function(n){var i=e.getWireById(n),u=e.getConnectorById(i.fromId,i);u.svgObj.id===t&&(u=e.getConnectorById(i.toId,i)),u.wireIds.delete(n),$("#"+n).remove(),u.isInputConnector&&u.setState(r.state.unknown,e.getNewPropagationId())}),n.wireIds.clear(),n.isInputConnector&&n.setState(r.state.unknown,this.getNewPropagationId())},getBoxById:function(t){for(var e=0;e<this.boxes.length;e++)if(this.boxes[e].svgObj.id===t)return this.boxes[e];return!1},getBoxByConnectorId:function(t){for(var e=0;e<this.boxes.length;e++){for(var r=0;r<this.boxes[e].inputs.length;r++)if(this.boxes[e].inputs[r].svgObj.id===t)return this.boxes[e];for(var n=0;n<this.boxes[e].outputs.length;n++)if(this.boxes[e].outputs[n].svgObj.id===t)return this.boxes[e]}return!1},getConnectorById:function(t,e){if(void 0!==e){var r=e.startBox.getConnectorById(t);return r||(r=e.endBox.getConnectorById(t)),r}for(var n=this.boxes.length,i=0;i<n;i++){var u=this.boxes[i].getConnectorById(t);if(u)return u}},getRealJQueryTarget:function(t){var e=$(t);if(!e.hasClass("connector")&&e.parents("g").length>0)for(e=e.parent();"G"!==e.prop("tagName")&&"g"!==e.prop("tagName");)e=e.parent();return e},getRealTarget:function(t){var e=$(t);if(e.hasClass("connector"))return this.getConnectorById(e.attr("id"));if(e.parents("g").length>0){for(var r=e.parent();"G"!==r.prop("tagName")&&"g"!==r.prop("tagName");)r=r.parent();return this.getBoxById(r.attr("id"))}return e.hasClass("wire")?this.getWireById(e.attr("id")):void 0},appendElement:function(t){this.appendJQueryObject(t.get())},appendJQueryObject:function(t){this.$svg.append(t),this.refresh()},addPattern:function(t){this.$defs.append(t),this.refresh()},refresh:function(){this.$svg.html(this.$svg.html()),console.log("SVG document has been reloaded.")},displayContextMenu:function(t,e,r){this.contextMenu.display(t,e,r)},hideContextMenu:function(){this.contextMenu.hide()},snapToGrid:function(t){return Math.round(t/this.gridSize)*this.gridSize},getNonRoutableNodes:function(){for(var t=new Set,e=0;e<this.boxes.length;++e){var r=$("#"+this.boxes[e].svgObj.id).children(".rect")[0],n=$(r).position();n.left=this.snapToGrid(n.left),n.top=this.snapToGrid(n.top);var i=!0,u=!1,s=void 0;try{for(var o=void 0,a=this.boxes[e].blockedNodes[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){var c=o.value,l=n.left+c.x*this.gridSize,f=n.top+c.y*this.gridSize;t.add({x:l,y:f})}}catch(t){u=!0,s=t}finally{try{i||null==a.return||a.return()}finally{if(u)throw s}}}return this.refresh(),t},moveToFrontById:function(t){this.$svg.append($("#"+t))},moveToBackById:function(t){$("#"+this.background.id).after($("#"+t))},getInconvenientNodes:function(t){for(var e=this,r=new Set,n=this,i=0;i<this.wires.length;++i)!function(i){if(void 0===t||t!==n.wires[i].svgObj.id){var u;n.wires[i].points.forEach(function(t){if(void 0===u)r.add({x:t.x,y:t.y});else if(u.x===t.x)for(var n=Math.min(u.y,t.y),i=Math.max(u.y,t.y);n<=i;)r.add({x:t.x,y:n}),n+=e.gridSize;else if(u.y===t.y)for(var s=Math.min(u.x,t.x),o=Math.max(u.x,t.x);s<=o;)r.add({x:s,y:t.y}),s+=e.gridSize;else console.error("getInconvenientNodes: line between two points is neither horizontal nor vertical");u={x:t.x,y:t.y}})}}(i);return r}},{snapToGrid:function(t,e){return Math.round(t/e)*e}})}();return{get default(){return u}}}(),$___46__46__47__46__46__47_es6_47_main_46_js__=function(){"use strict";var t=$___46__46__47__46__46__47_es6_47_canvas_46_js__.default;return $(function(){var e=new t("svg#canvas",10),r=e.newInput(100,100),n=e.newInput(100,200),i=e.newGate("not",200,100),u=e.newGate("not",200,200),s=e.newGate("and",360,90),o=e.newGate("and",360,210),a=e.newGate("nor",540,150),c=e.newOutput(680,90),l=e.newOutput(680,150),f=e.newOutput(680,210);e.newWire(r.outputs[0].svgObj.id,i.inputs[0].svgObj.id),e.newWire(n.outputs[0].svgObj.id,u.inputs[0].svgObj.id),e.newWire(r.outputs[0].svgObj.id,o.inputs[1].svgObj.id),e.newWire(n.outputs[0].svgObj.id,s.inputs[0].svgObj.id),e.newWire(i.outputs[0].svgObj.id,s.inputs[1].svgObj.id),e.newWire(u.outputs[0].svgObj.id,o.inputs[0].svgObj.id),e.newWire(s.outputs[0].svgObj.id,a.inputs[0].svgObj.id),e.newWire(o.outputs[0].svgObj.id,a.inputs[1].svgObj.id),e.newWire(s.outputs[0].svgObj.id,c.inputs[0].svgObj.id),e.newWire(a.outputs[0].svgObj.id,l.inputs[0].svgObj.id),e.newWire(o.outputs[0].svgObj.id,f.inputs[0].svgObj.id)}),{}}();
